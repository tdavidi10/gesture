<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ××”×•×‘×” ×©×œ×™ â¤ï¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;600;700&family=Amatic+SC:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rubik', 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            direction: rtl;
        }
        
        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Container */
        .container {
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }
        
        /* Main heart animation */
        .heart-container {
            position: relative;
            margin-bottom: 40px;
        }
        
        .main-heart {
            font-size: 120px;
            color: #ff6b6b;
            animation: heartbeat 1.5s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .main-heart:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 0 30px #ff6b6b);
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }
        
        /* Floating hearts */
        .floating-heart {
            position: absolute;
            color: #ff6b6b;
            font-size: 20px;
            pointer-events: none;
            animation: floatUp 3s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0);
            }
            50% {
                opacity: 1;
                transform: translateY(-50px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }
        
        /* Message container */
        .message-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .title {
            font-family: 'Amatic SC', 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s ease-out;
        }
        
        .love-message {
            font-size: 1.4rem;
            color: #fff;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .typewriter {
            border-right: 2px solid #fff;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { border-color: transparent; }
            51%, 100% { border-color: #fff; }
        }
        
        /* Interactive button */
        .love-button {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-family: 'Poppins', sans-serif;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s forwards;
        }
        
        .love-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
            background: linear-gradient(45deg, #ff8e8e, #ff6b6b);
        }
        
        .love-button:active {
            transform: translateY(0);
        }
        
        /* Hidden surprise message */
        .surprise-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
        }
        
        .surprise-message.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .surprise-message h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .surprise-message p {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .close-surprise {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
        }
        
        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Enhanced responsive design for all devices */
        
        /* Base responsive container adjustments */
        .container {
            padding: 15px;
            max-width: 100vw;
        }
        
        .message-container {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 40px auto;
        }
        
        /* Large desktop screens (Mac, PC) */
        @media (min-width: 1200px) {
            .title {
                font-size: 4rem;
            }
            
            .love-message {
                font-size: 1.6rem;
            }
            
            .main-heart {
                font-size: 140px;
            }
            
            .message-container {
                padding: 50px 60px;
            }
        }
        
        /* Tablet landscape and smaller desktops */
        @media (max-width: 1199px) and (min-width: 769px) {
            .title {
                font-size: 3.2rem;
            }
            
            .love-message {
                font-size: 1.3rem;
            }
            
            .main-heart {
                font-size: 100px;
            }
            
            .message-container {
                padding: 35px 40px;
            }
        }
        
        /* Tablets and small laptops */
        @media (max-width: 768px) and (min-width: 481px) {
            .title {
                font-size: 2.5rem;
            }
            
            .love-message {
                font-size: 1.1rem;
                line-height: 1.6;
            }
            
            .main-heart {
                font-size: 80px;
            }
            
            .message-container {
                padding: 30px 25px;
                margin: 0 15px 30px 15px;
            }
            
            .love-button {
                padding: 12px 30px;
                font-size: 1.1rem;
            }
            
            .romantic-music-player {
                top: 10px;
                right: 10px;
                min-width: 280px;
                max-width: 320px;
                padding: 20px;
            }
        }
        
        /* Mobile phones */
        @media (max-width: 480px) {
            .title {
                font-size: 2rem;
                margin-bottom: 20px;
            }
            
            .love-message {
                font-size: 1rem;
                line-height: 1.5;
                margin-bottom: 25px;
            }
            
            .main-heart {
                font-size: 60px;
                margin-bottom: 20px;
            }
            
            .message-container {
                padding: 25px 20px;
                margin: 0 10px 25px 10px;
                border-radius: 15px;
            }
            
            .love-button {
                padding: 10px 25px;
                font-size: 1rem;
            }
            
            .surprise-message {
                padding: 30px 20px;
                margin: 0 10px;
                width: calc(100% - 20px);
                max-width: none;
            }
            
            .surprise-message h2 {
                font-size: 2rem;
            }
            
            .love-letter {
                padding: 30px 20px;
                margin: 0 10px;
                width: calc(100% - 20px);
                max-width: none;
            }
            
            .love-letter h3 {
                font-size: 1.5rem;
            }
            
            .floating-heart {
                font-size: 16px;
            }
            
            .romantic-music-player {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px auto;
                min-width: auto;
                max-width: calc(100% - 20px);
                padding: 15px;
            }
        }
        
        /* Extra small mobile phones */
        @media (max-width: 320px) {
            .title {
                font-size: 1.8rem;
            }
            
            .love-message {
                font-size: 0.9rem;
            }
            
            .main-heart {
                font-size: 50px;
            }
            
            .message-container {
                padding: 20px 15px;
                margin: 0 5px 20px 5px;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .main-heart:hover {
                transform: none;
            }
            
            .main-heart:active {
                transform: scale(1.1);
                transition: transform 0.1s ease;
            }
            
            .love-button:hover {
                transform: none;
            }
            
            .love-button:active {
                transform: scale(0.95);
            }
        }
        
        /* High DPI screens (Retina displays on Mac/iPhone) */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .title, .love-message {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }
        
        /* Landscape orientation on mobile */
        @media (max-height: 500px) and (orientation: landscape) {
            .container {
                padding: 10px;
            }
            
            .main-heart {
                font-size: 40px;
                margin-bottom: 15px;
            }
            
            .title {
                font-size: 1.8rem;
                margin-bottom: 15px;
            }
            
            .love-message {
                font-size: 0.9rem;
                margin-bottom: 20px;
            }
            
            .message-container {
                padding: 20px;
                margin-bottom: 20px;
            }
        }
        
        /* Stars animation */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            color: rgba(255, 255, 255, 0.8);
            animation: twinkle 2s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
            from { opacity: 0.3; }
            to { opacity: 1; }
        }
        
        /* Rose petals animation */
        .rose-petals {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .rose-petal {
            position: absolute;
            color: #ff69b4;
            font-size: 16px;
            animation: fall 8s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Aurora background effect */
        .aurora {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }
        
        .aurora::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 0, 150, 0.1) 50%, 
                transparent 70%),
                linear-gradient(-45deg, 
                transparent 30%, 
                rgba(0, 255, 255, 0.1) 50%, 
                transparent 70%);
            animation: auroraMove 10s ease-in-out infinite alternate;
        }
        
        @keyframes auroraMove {
            0% { transform: translateX(-50px) translateY(-30px) rotate(0deg); }
            100% { transform: translateX(50px) translateY(30px) rotate(5deg); }
        }
        
        /* Love letter animation */
        .love-letter {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(145deg, #ffeaa7, #fdcb6e, #e17055);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            max-width: 500px;
            text-align: center;
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid #d63031;
        }
        
        .love-letter.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .love-letter h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #2d3436;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .love-letter p {
            color: #2d3436;
            font-size: 1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            font-family: 'Poppins', sans-serif;
        }
        
        .close-letter {
            background: #d63031;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            display: block;
            margin: 20px auto 0;
            font-weight: 600;
        }
        
        /* Romantic Music Player */
        .romantic-music-player {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.3), rgba(255, 182, 193, 0.3));
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 182, 193, 0.5);
            border-radius: 25px;
            padding: 25px 30px;
            color: white;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 400px;
            max-width: 450px;
            direction: ltr !important;
        }
        
        .romantic-music-player:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(255, 107, 107, 0.4);
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.4), rgba(255, 182, 193, 0.4));
        }
        
        .music-title {
            font-family: 'Rubik', 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
        }
        
        .music-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .play-pause-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        
        .play-pause-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .volume-control span {
            font-size: 18px;
        }
        
        .volume-slider {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(255, 107, 107, 0.5);
        }
        
        .progress-container {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            margin-bottom: 10px;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            direction: ltr !important;
        }
        
        .progress-container:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e, #ffb6c1);
            width: 0%;
            transition: width 0.2s ease;
            border-radius: 4px;
            position: relative;
            box-shadow: 0 1px 3px rgba(255, 107, 107, 0.4);
            direction: ltr !important;
            left: 0;
            transform-origin: left center;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 2px;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 1px;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.9;
            font-weight: 600;
        }
        

        
        /* Music visualization */
        .music-visualizer {
            display: flex;
            align-items: end;
            gap: 3px;
            height: 25px;
            margin-left: 15px;
        }
        
        .visualizer-bar {
            width: 4px;
            background: linear-gradient(to top, #ff6b6b, #ffb6c1);
            border-radius: 2px;
            animation: musicBounce 0.8s ease-in-out infinite alternate;
        }
        
        .visualizer-bar:nth-child(1) { animation-delay: 0s; }
        .visualizer-bar:nth-child(2) { animation-delay: 0.1s; }
        .visualizer-bar:nth-child(3) { animation-delay: 0.2s; }
        .visualizer-bar:nth-child(4) { animation-delay: 0.3s; }
        .visualizer-bar:nth-child(5) { animation-delay: 0.4s; }
        
        @keyframes musicBounce {
            0% { height: 5px; }
            100% { height: 25px; }
        }
        
        /* Floating music notes */
        .music-note {
            position: fixed;
            color: rgba(255, 182, 193, 0.8);
            font-size: 20px;
            pointer-events: none;
            animation: floatMusicNote 4s ease-out forwards;
            z-index: 999;
        }
        
        @keyframes floatMusicNote {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-80px) rotate(180deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) rotate(360deg) scale(0.3);
            }
        }
    </style>
</head>
<body>
    <!-- Aurora background -->
    <div class="aurora"></div>
    
    <!-- Animated particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Stars -->
    <div class="stars" id="stars"></div>
    
    <!-- Rose petals -->
    <div class="rose-petals" id="rosePetals"></div>
    
    <!-- Romantic Music Player -->
    <div class="romantic-music-player" id="romanticPlayer">
        <div class="music-title" id="musicTitle">ğŸµ Azizam - Our Love Song ğŸ’•</div>
        <div class="music-controls">
            <button class="play-pause-btn" id="playPauseBtn">â–¶ï¸</button>
            <div class="volume-control">
                <span>ğŸ”Š</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>
            <div class="music-visualizer" id="musicVisualizer" style="display: none;">
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
            </div>
        </div>
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">0:00</span>
        </div>
    </div>
    
    <!-- Hidden Audio Element with Archive.org hosting -->
    <audio id="romanticAudio" preload="none" crossorigin="anonymous">
        <source src="https://archive.org/download/azizam_202506/azizam.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <div class="container">
        <!-- Main heart -->
        <div class="heart-container">
            <div class="main-heart" id="mainHeart">â¤ï¸</div>
        </div>
        
        <!-- Message container -->
        <div class="message-container">
            <h1 class="title">×œ××”×•×‘×” ×”×™×¤×” ×©×œ×™</h1>
            <div class="love-message" id="loveMessage">
                <span class="typewriter" id="typewriter"></span>
            </div>
            <button class="love-button" id="loveButton">×œ×—×¦×™ ×œ×”×¤×ª×¢×” ğŸ’•</button>
            <button class="love-button" id="letterButton" style="margin-right: 20px; margin-left: 0px; background: linear-gradient(45deg, #fdcb6e, #e17055);">××›×ª×‘ ××”×‘×” ğŸ’Œ</button>
            <button class="love-button" id="promiseButton" style="margin-top: 15px; background: linear-gradient(45deg, #fd79a8, #e84393);">×”×‘×˜×—×•×ª ××”×‘×” ğŸ’</button>
            <button class="love-button" id="smileButton" style="margin-top: 15px; margin-right: 20px; margin-left: 0px; background: linear-gradient(45deg, #ffeaa7, #fdcb6e); color: #2d3436; text-shadow: none;">×”×—×™×•×š ×©×œ×š ğŸ˜Š</button>
        </div>
    </div>
    
    <!-- Hidden surprise message -->
    <div class="surprise-message" id="surpriseMessage">
        <h2>××ª ×”×›×•×œ ×‘×©×‘×™×œ×™! âœ¨</h2>
        <p>×›×œ ×¨×’×¢ ××™×ª×š ××¨×’×™×© ×›××• ×§×¡×. ××ª ×××™×¨×” ×œ×™ ××ª ×”×¢×•×œ× ×‘×¦×•×¨×” ×©×œ× ×—×©×‘×ª×™ ×©××¤×©×¨×™×ª. 
           ×× ×™ ××•×”×‘ ××ª ×”×—×™×•×š ×©×œ×š, ××ª ×”×¦×—×•×§ ×©×œ×š, ××ª ×”×“×¨×š ×©×‘×” ××ª ×’×•×¨××ª ×œ×™ ×œ×”×¨×’×™×© ×›××• ×”××“× ×”×›×™ ×‘×¨ ××–×œ ×‘×¢×•×œ×.</p>
        <p>×ª×•×“×” ×œ×š ×¢×œ ×–×” ×©××ª ××ª, ×¢×œ ×–×” ×©××ª ×©×œ×™, ×•×¢×œ ×–×” ×©××ª ×”×•×¤×›×ª ×›×œ ×™×•× ×œ×”×¨×¤×ª×§×” ×©×©×•×•×” ×œ×—×™×•×ª. ğŸ’–</p>
        <button class="close-surprise" id="closeSurprise">×¡×’×•×¨ ğŸ’•</button>
    </div>
    
    <!-- Love Letter -->
    <div class="love-letter" id="loveLetter">
        <h3>×”××”×•×‘×” ×”×›×™ ×™×§×¨×” ×©×œ×™ ğŸ’•</h3>
        <p>××”×¨×’×¢ ×©× ×›× ×¡×ª ×œ×—×™×™× ×©×œ×™, ×”×›×•×œ ×”×©×ª× ×”. ×œ× ×¨×§ ×”××™×¨×” ××ª ×”×™××™× ×©×œ×™ - ×”×¤×›×ª ×œ×”×™×•×ª ×”×©××© ×©×œ×™, ×”×¡×™×‘×” ×©×œ×™ ×œ×—×™×™×š, ×”×©×œ×•× ×”×›×™ ××”×•×‘ ×•×”×¤×¨×™×“×” ×”×›×™ ×§×©×”.</p>
        
        <p>×× ×™ ××•×”×‘ ××ª ×”×“×¨×š ×©×‘×” ××ª ×¦×•×—×§×ª ×¢×œ ×”×‘×“×™×—×•×ª ×”××˜×•×¤×©×•×ª ×©×œ×™, ××™×š ××ª ×”×•×¤×›×ª ×¨×’×¢×™× ×¨×’×™×œ×™× ×œ××™×•×—×“×™×, ×•××™×š ××ª ×¨×•××” ××ª ×”×¢×•×œ× ×‘×¢×™× ×™×™× ×›×œ ×›×š ×™×¤×•×ª. ××ª ×’×•×¨××ª ×œ×™ ×œ×¨×¦×•×ª ×œ×”×™×•×ª ×”×’×¨×¡×” ×”×›×™ ×˜×•×‘×” ×©×œ ×¢×¦××™.</p>
        
        <p>×›×œ ×™×•× ××™×ª×š ×”×•× ××ª× ×” ×©×× ×™ ××£ ×¤×¢× ×œ× ×¨×•×¦×” ×œ×¤×ª×•×— ×œ×’××¨×™ ×›×™ ×× ×™ ×¨×•×¦×” ×©×”×§×¡× ×™×™××©×š ×œ× ×¦×—. ××ª ×”×™×•× ×©×œ×™, ×”××—×¨ ×©×œ×™, ×•×›×œ ×”××—×¨×™× ×©×™×‘×•××• ××—×¨×™ ×–×”.</p>
        
        <p>×× ×™ ××‘×˜×™×— ×œ××”×•×‘ ××•×ª×š ×‘×›×œ ×¢×•× ×”, ×‘×›×œ ××ª×’×¨, ×•×‘×›×œ ×©××—×” ×©×”×—×™×™× ×™×‘×™××• ×œ×“×¨×›× ×•. ××ª ×”×œ×‘ ×©×œ×™, ×”× ×©××” ×©×œ×™, ×”×›×•×œ ×©×œ×™.</p>
        
        <p style="text-align: center; font-style: italic; margin-top: 30px;">×œ× ×¦×— ×•×ª××™×“ ×©×œ×š,<br>×‘×›×œ ×”××”×‘×” ×©×œ×™ â¤ï¸</p>
        
        <button class="close-letter" id="closeLetter">×¡×’×•×¨ ××›×ª×‘ ğŸ’Œ</button>
    </div>
    
    <!-- Your Beautiful Smile Section -->
    <div class="love-letter" id="smileSection" style="background: linear-gradient(145deg, #ffeaa7, #fdcb6e, #f39c12);">
        <h3 style="color: #2d3436;">×”×—×™×•×š ×”×›×™ ×™×¤×” ×‘×¢×•×œ× ğŸ˜Š</h3>
        <p style="color: #2d3436;">×›×©××ª ××—×™×™×›×ª ××œ×™×™... ×× ×™ ×¤×©×•×˜ × ××¡. ×”×œ×‘ ×©×œ×™ ×¢×•×©×” ×¡×œ×˜×•×ª, ×”×¢×•×œ× × ×¢×¦×¨ ×œ×¨×’×¢, ×•×× ×™ ×”×•×¤×š ×œ×”×™×•×ª ×”××“× ×”×›×™ ×××•×©×¨ ×©×™×©.</p>
        
        <p style="color: #2d3436;">×”×—×™×•×š ×©×œ×š ×”×•× ×”×§×¡× ×”×›×™ ×—×–×§ ×©×§×™×™×. ×”×•× ×××™×¨ ×œ×™ ××ª ×”×™×•×, ××—×× ×œ×™ ××ª ×”×œ×‘, ×•×’×•×¨× ×œ×™ ×œ×”×¨×’×™×© ×©×”×›×•×œ ××¤×©×¨×™. ×›×©××ª ×©××—×” - ×× ×™ ×©××—. ×›×©××ª ×¢×¦×•×‘×” - ×”×œ×‘ ×©×œ×™ × ×©×‘×¨ ××™×ª×š.</p>
        
        <p style="color: #2d3436;">×× ×—× ×• ××—×•×‘×¨×™× ×‘×¦×•×¨×” ×›×œ ×›×š ×¢××•×§×”... ×”×¨×’×©×•×ª ×©×œ×š ×”× ×”×¨×’×©×•×ª ×©×œ×™. ×›×©×× ×™ ×¨×•××” ××•×ª×š ×¦×•×—×§×ª, ×× ×™ ×™×•×“×¢ ×©×–×” ×”×¨×’×¢ ×”×›×™ ×˜×•×‘ ×‘×—×™×™× ×©×œ×™. ×•×× ××™ ×¤×¢× ×× ×™ ×¨×•××” ×“××¢×” ×‘×¢×™× ×™×™× ×©×œ×š, ×”×¢×•×œ× ×©×œ×™ ××ª××•×˜×˜.</p>
        
        <p style="color: #2d3436;">××ª ×”×¡×™×‘×” ×©×œ×™ ×œ×—×™×™×š ×›×œ ×‘×•×§×¨. ×”×—×™×•×š ×©×œ×š ×”×•× ×”×‘×™×ª ×©×œ×™. ğŸ ğŸ’•</p>
        
        <p style="color: #2d3436; text-align: center; font-style: italic; margin-top: 30px; font-size: 18px;">×ª××™×“ ×ª×—×™×™×›×™... ×›×™ ×× ×™ ××¢×©×” ×”×›×•×œ ×©×ª×”×™×™ ×©××—×” ğŸ˜ŠğŸ’–</p>
        
        <button class="close-letter" id="closeSmile" style="background: #f39c12;">×¡×’×•×¨ ×—×™×•×š ğŸ˜Š</button>
    </div>
    
    <!-- Love Promises Section -->
    <div class="love-letter" id="promiseSection" style="background: linear-gradient(145deg, #fd79a8, #e84393, #ff6b6b);">
        <h3 style="color: white;">×”×”×‘×˜×—×•×ª ×©×œ×™ ××œ×™×š ğŸ’</h3>
        <p style="color: white;">×× ×™ ××‘×˜×™×— ×œ××”×•×‘ ××•×ª×š ×‘×›×œ ×™×•× - ×‘×™×•× ×”×›×™ ×˜×•×‘ ×©×œ×š ×•×‘×’× ×‘×™×•× ×”×›×™ ×§×©×”. ××”×™×” ×©× ×œ×”×—×–×™×§ ×œ×š ××ª ×”×™×“, ×œ× ×’×‘ ×œ×š ××ª ×”×“××¢×•×ª, ×•×œ×—×’×•×’ ××™×ª×š ×›×œ ×©××—×”.</p>
        
        <p style="color: white;">×× ×™ ××‘×˜×™×— ×œ×”×××™×Ÿ ×‘×š ×ª××™×“, ×œ×¢×•×“×“ ××•×ª×š ×œ×—×œ×•× ×‘×’×“×•×œ, ×•×œ×”×™×•×ª ×”×›×ª×£ ×©×œ×š ×œ×¡××•×š ×¢×œ×™×”. ××”×™×” ×”×‘×™×ª ×©×œ×š, ×”××§×•× ×”×‘×˜×•×— ×©×œ×š, ×•×”××“× ×©×ª××™×“ ×™×•×“×¢ ×›××” ××ª ××™×•×—×“×ª.</p>
        
        <p style="color: white;">×× ×™ ××‘×˜×™×— ×œ×’×“×•×œ ××™×ª×š, ×œ×œ××•×“ ××™×ª×š, ×•×œ×‘× ×•×ª ××™×ª×š ×¢×ª×™×“ ×™×¤×”. ×œ× ××©× ×” ××” ×”×—×™×™× ×™×‘×™××•, ××”×™×” ×©×œ×š - ×‘×˜×•×‘ ×•×‘×¨×¢.</p>
        
        <p style="color: white;">×× ×™ ××‘×˜×™×— ×œ×¢×©×•×ª ×”×›×•×œ ×›×“×™ ×©×ª×¨×’×™×©×™ ××”×•×‘×”, ××•×¢×¨×›×ª, ×•×™×¤×” ×›×œ ×™×•× ××—×“×©. ××ª ×ª××™×“ ×ª×”×™×™ ×”××œ×›×” ×©×œ×™. ğŸ‘‘</p>
        
        <p style="color: white; text-align: center; font-style: italic; margin-top: 30px; font-size: 20px;">ğŸ’•<br>×œ× ×¦×— ×•×ª××™×“ ğŸ’</p>
        
        <button class="close-letter" id="closePromise" style="background: #e84393;">×¡×’×•×¨ ×”×‘×˜×—×•×ª ğŸ’</button>
    </div>
    
    <script>
        // Typewriter effect
        const messages = [
            "×× ×™ ××•×”×‘ ××•×ª×š ×™×•×ª×¨ ×××” ×©××™×œ×™× ×™×›×•×œ×•×ª ×œ×‘×˜×...",
            "××”×‘×ª×™ ××œ×™×š ×™×•×§×“×ª ×‘×—×•××Ÿ ×©×œ ××œ×£ ×©××©×•×ª ×–×•×”×¨×•×ª...",
            "×›×©××ª ××—×™×™×›×ª ××œ×™×™... ×× ×™ ×¤×©×•×˜ × ××¡ ×××© ğŸ˜ŠğŸ’•",
            "××ª ×”×©××© ×©×œ×™, ×”×™×¨×— ×©×œ×™, ×•×›×œ ×”×›×•×›×‘×™× ×©×œ×™...", 
            "×”×—×™×•×š ×©×œ×š ×’×•×¨× ×œ×™ ×œ×”×™×•×ª ×”××“× ×”×›×™ ×××•×©×¨ ×‘×¢×•×œ×...",
            "×›×œ ×¤×¢×™××ª ×œ×‘ ×œ×•×—×©×ª ××ª ×”×©× ×©×œ×š...",
            "×›×©××ª ×©××—×” - ×× ×™ ×©××—, ×›×©××ª ×¢×¦×•×‘×” - ×”×œ×‘ ×©×œ×™ × ×©×‘×¨...",
            "××ª ×”×•×¤×›×ª ××ª ×”×¢×•×œ× ×©×œ×™ ×œ×‘×”×™×¨ ×™×•×ª×¨ ×¨×§ ×‘×–×” ×©××ª ×§×™×™××ª...",
            "×× ×™ ××ª××”×‘ ×‘×š ×™×•×ª×¨ ×›×œ ×™×•× ××—×“×©...",
            "××ª ×”×“×‘×¨ ×”×›×™ ×™×¤×” ×©×§×¨×” ×œ×™ ×‘×—×™×™×...",
            "×”×—×™×•×š ×©×œ×š ×”×•× ×”×‘×™×ª ×©×œ×™, ×”××§×•× ×”×‘×˜×•×— ×©×œ×™...",
            "××™×ª×š ×× ×™ ××¨×’×™×© ×©×œ×, ××•×©×œ×, ××”×•×‘...",
            "×›×œ ×¨×’×¢ ××™×ª×š ×”×•× ××ª× ×” ×©×× ×™ ×©×•××¨ ×‘×œ×‘...",
            "××ª ×œ× ×¨×§ ×”××”×•×‘×” ×©×œ×™ - ××ª ×”×—×œ×•× ×©×œ×™ ×©×”×ª×’×©×..."
        ];
        
        let currentMessage = 0;
        let currentChar = 0;
        const typewriter = document.getElementById('typewriter');
        
        function typeMessage() {
            if (currentChar < messages[currentMessage].length) {
                typewriter.textContent += messages[currentMessage].charAt(currentChar);
                currentChar++;
                setTimeout(typeMessage, 100);
            } else {
                setTimeout(() => {
                    typewriter.textContent = '';
                    currentChar = 0;
                    currentMessage = (currentMessage + 1) % messages.length;
                    typeMessage();
                }, 3000);
            }
        }
        
        // Start typewriter effect after page loads
        setTimeout(typeMessage, 2000);
        
        // Heart click animation
        const mainHeart = document.getElementById('mainHeart');
        mainHeart.addEventListener('click', function(e) {
            // Create floating hearts
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = 'ğŸ’–';
                heart.style.left = Math.random() * 100 + 'px';
                heart.style.top = Math.random() * 100 + 'px';
                this.appendChild(heart);
                
                setTimeout(() => heart.remove(), 3000);
            }
        });
        
        // Surprise button functionality
        const loveButton = document.getElementById('loveButton');
        const surpriseMessage = document.getElementById('surpriseMessage');
        const closeSurprise = document.getElementById('closeSurprise');
        
        // Love letter functionality
        const letterButton = document.getElementById('letterButton');
        const loveLetter = document.getElementById('loveLetter');
        const closeLetter = document.getElementById('closeLetter');
        
        // Smile section functionality
        const smileButton = document.getElementById('smileButton');
        const smileSection = document.getElementById('smileSection');
        const closeSmile = document.getElementById('closeSmile');
        
        // Promise section functionality
        const promiseButton = document.getElementById('promiseButton');
        const promiseSection = document.getElementById('promiseSection');
        const closePromise = document.getElementById('closePromise');
        
        // Browser detection for Chrome-specific handling
        const isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        const isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
        
        // Romantic Music Player functionality
        const romanticAudio = document.getElementById('romanticAudio');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const currentTimeDisplay = document.getElementById('currentTime');
        const durationDisplay = document.getElementById('duration');
        const musicVisualizer = document.getElementById('musicVisualizer');
        
        let isPlaying = false;
        let musicNotesInterval;
        let heartBurstTimeout;
        let cleanupFunctions = [];
        let audioLoadAttempts = 0;
        let timeUpdateThrottle = 0;
        
        loveButton.addEventListener('click', function() {
            surpriseMessage.classList.add('show');
            createHeartExplosion();
            createRosePetalExplosion();
        });
        
        closeSurprise.addEventListener('click', function() {
            surpriseMessage.classList.remove('show');
        });
        
        letterButton.addEventListener('click', function() {
            loveLetter.classList.add('show');
            createRosePetalExplosion();
        });
        
        closeLetter.addEventListener('click', function() {
            loveLetter.classList.remove('show');
        });
        
        smileButton.addEventListener('click', function() {
            smileSection.classList.add('show');
            createSunshineEffect();
            createJoyfulExplosion();
        });
        
        closeSmile.addEventListener('click', function() {
            smileSection.classList.remove('show');
        });
        
        promiseButton.addEventListener('click', function() {
            promiseSection.classList.add('show');
            createHeartExplosion();
            createRingEffect();
        });
        
        closePromise.addEventListener('click', function() {
            promiseSection.classList.remove('show');
        });
        
        // Romantic Music Player Controls with Archive.org hosting
        playPauseBtn.addEventListener('click', function() {
            if (!isPlaying) {
                // Hosted audio should work better - load if needed
                if (audioLoadAttempts === 0) {
                    romanticAudio.load(); // Load hosted audio
                    audioLoadAttempts++;
                }
                
                const playPromise = romanticAudio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        playPauseBtn.textContent = 'â¸ï¸';
                        musicVisualizer.style.display = 'flex';
                        // Enable effects for all browsers with hosted audio
                        startMusicEffects();
                        isPlaying = true;
                    }).catch(error => {
                        console.log('Play failed:', error);
                        alert('ğŸµ Audio loading... Please wait a moment and try again.\n(Loading from archive.org)');
                    });
                } else {
                    // Fallback for older browsers
                    playPauseBtn.textContent = 'â¸ï¸';
                    musicVisualizer.style.display = 'flex';
                    startMusicEffects();
                    isPlaying = true;
                }
            } else {
                romanticAudio.pause();
                playPauseBtn.textContent = 'â–¶ï¸';
                musicVisualizer.style.display = 'none';
                stopMusicEffects();
                isPlaying = false;
            }
            
            // Secret sequence check
            clickSequence.push('music');
            checkSecretSequence();
        });
        
        // Volume control
        volumeSlider.addEventListener('input', function() {
            romanticAudio.volume = this.value / 100;
        });
        
        // Progress bar control
        progressContainer.addEventListener('click', function(e) {
            if (romanticAudio.duration && !isNaN(romanticAudio.duration)) {
                const rect = this.getBoundingClientRect();
                // Force left-to-right calculation regardless of page direction
                const clickX = e.clientX - rect.left;
                const pos = Math.max(0, Math.min(1, clickX / rect.width));
                romanticAudio.currentTime = pos * romanticAudio.duration;
                
                // Immediate visual feedback - ensure it grows from left
                progressBar.style.width = (pos * 100) + '%';
                progressBar.style.left = '0';
                progressBar.style.right = 'auto';
                
                // Create a small sparkle effect where clicked
                const sparkle = document.createElement('div');
                sparkle.textContent = 'âœ¨';
                sparkle.style.position = 'fixed';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.animation = 'floatUp 1s ease-out forwards';
                sparkle.style.zIndex = '9999';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1000);
            }
        });
        
        // Audio event listeners with Chrome-specific handling
        romanticAudio.addEventListener('loadedmetadata', function() {
            if (this.duration && !isNaN(this.duration)) {
                durationDisplay.textContent = formatTime(this.duration);
            } else {
                durationDisplay.textContent = '--:--';
            }
            volumeSlider.value = 70;
            this.volume = 0.7;
            // Reset progress bar to start from left
            progressBar.style.width = '0%';
            progressBar.style.left = '0';
            progressBar.style.right = 'auto';
            currentTimeDisplay.textContent = '0:00';
        });
        
        // Chrome-specific: Handle audio loading errors
        romanticAudio.addEventListener('error', function(e) {
            console.log('Audio error:', e);
            durationDisplay.textContent = 'Error';
            currentTimeDisplay.textContent = 'Error';
        });
        
        // Chrome-specific: Handle audio stalling
        romanticAudio.addEventListener('stalled', function() {
            console.log('Audio stalled - Chrome optimization triggered');
        });
        
        romanticAudio.addEventListener('timeupdate', function() {
            // Chrome: Throttle time updates to prevent lag
            const now = Date.now();
            if (isChrome && (now - timeUpdateThrottle) < 200) return; // Update max every 200ms for Chrome
            timeUpdateThrottle = now;
            
            if (this.duration && !isNaN(this.duration)) {
                const progress = Math.min((this.currentTime / this.duration) * 100, 100);
                // Ensure progress bar grows from left to right
                progressBar.style.width = progress + '%';
                progressBar.style.left = '0';
                progressBar.style.right = 'auto';
                currentTimeDisplay.textContent = formatTime(this.currentTime);
                
                // Add subtle glow effect when music is playing (not for Chrome)
                if (isPlaying && progress > 0 && !isChrome) {
                    progressBar.style.boxShadow = '0 1px 3px rgba(255, 107, 107, 0.4), 0 0 10px rgba(255, 107, 107, 0.3)';
                }
            }
        });
        
        romanticAudio.addEventListener('ended', function() {
            playPauseBtn.textContent = 'â–¶ï¸';
            musicVisualizer.style.display = 'none';
            stopMusicEffects();
            isPlaying = false;
            // Reset progress bar to start position (left)
            progressBar.style.width = '0%';
            progressBar.style.left = '0';
            progressBar.style.right = 'auto';
            progressBar.style.boxShadow = '0 1px 3px rgba(255, 107, 107, 0.4)';
            currentTimeDisplay.textContent = '0:00';
            this.currentTime = 0;
            
            // Special romantic message when song ends
            setTimeout(() => {
                createMassiveHeartExplosion();
                const endMessage = document.createElement('div');
                endMessage.style.position = 'fixed';
                endMessage.style.top = '50%';
                endMessage.style.left = '50%';
                endMessage.style.transform = 'translate(-50%, -50%)';
                endMessage.style.background = 'linear-gradient(135deg, rgba(255, 107, 107, 0.95), rgba(255, 182, 193, 0.95))';
                endMessage.style.backdropFilter = 'blur(15px)';
                endMessage.style.padding = '30px';
                endMessage.style.borderRadius = '20px';
                endMessage.style.color = 'white';
                endMessage.style.fontFamily = "'Dancing Script', cursive";
                endMessage.style.fontSize = '24px';
                endMessage.style.textAlign = 'center';
                endMessage.style.zIndex = '10000';
                endMessage.style.border = '2px solid rgba(255, 255, 255, 0.3)';
                endMessage.style.boxShadow = '0 20px 40px rgba(255, 107, 107, 0.4)';
                endMessage.innerHTML = 'ğŸµ Our song just ended...<br>but our love story never will ğŸ’•<br><small style="font-size: 16px; opacity: 0.8;">Click to close ğŸ’–</small>';
                
                endMessage.addEventListener('click', () => endMessage.remove());
                document.body.appendChild(endMessage);
                
                setTimeout(() => {
                    if (endMessage.parentNode) endMessage.remove();
                }, 8000);
            }, 1000);
        });
        

        
        // Create heart explosion
        function createHeartExplosion() {
            const colors = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ’'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.top = Math.random() * window.innerHeight + 'px';
                    heart.style.fontSize = Math.random() * 30 + 20 + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '999';
                    heart.style.animation = 'floatUp 2s ease-out forwards';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 2000);
                }, i * 100);
            }
        }
        
        // Create floating particles
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particles.appendChild(particle);
            }
        }
        
        // Create twinkling stars
        function createStars() {
            const stars = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = 'âœ¨';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.fontSize = Math.random() * 10 + 8 + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                stars.appendChild(star);
            }
        }
        
        // Create rose petal explosion
        function createRosePetalExplosion() {
            const petals = ['ğŸŒ¹', 'ğŸŒº', 'ğŸ’', 'ğŸŒ¸', 'ğŸŒ·'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const petal = document.createElement('div');
                    petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                    petal.style.position = 'fixed';
                    petal.style.left = Math.random() * window.innerWidth + 'px';
                    petal.style.top = Math.random() * window.innerHeight + 'px';
                    petal.style.fontSize = Math.random() * 25 + 15 + 'px';
                    petal.style.pointerEvents = 'none';
                    petal.style.zIndex = '999';
                    petal.style.animation = 'fall 3s ease-out forwards';
                    document.body.appendChild(petal);
                    
                    setTimeout(() => petal.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Create continuous rose petals
        function createRosePetals() {
            const rosePetals = document.getElementById('rosePetals');
            const petals = ['ğŸŒ¹', 'ğŸŒº', 'ğŸ’', 'ğŸŒ¸', 'ğŸŒ·'];
            
            for (let i = 0; i < 25; i++) {
                const petal = document.createElement('div');
                petal.className = 'rose-petal';
                petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDelay = Math.random() * 8 + 's';
                petal.style.animationDuration = (Math.random() * 3 + 8) + 's';
                rosePetals.appendChild(petal);
            }
        }
        
        // Format time function
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Start romantic music effects (optimized for hosted audio)
        function startMusicEffects() {
            // Clear any existing effects first
            stopMusicEffects();
            
            // Start floating music notes (adjust frequency based on browser)
            const noteInterval = isChrome ? 2000 : 1500;
            musicNotesInterval = setInterval(createFloatingMusicNotes, noteInterval);
            
            // Add gentle pulsing effect to the website
            document.body.style.animation = 'gentlePulse 4s ease-in-out infinite';
            
            // Create occasional heart bursts with proper cleanup (less frequent for Chrome)
            const heartDelay = isChrome ? 4000 : 2000;
            const heartVariation = isChrome ? 4000 : 3000;
            
            function createHeartBursts() {
                if (isPlaying) {
                    createMiniHeartExplosion();
                    heartBurstTimeout = setTimeout(createHeartBursts, Math.random() * heartVariation + heartDelay);
                }
            }
            heartBurstTimeout = setTimeout(createHeartBursts, heartDelay);
        }
        
        // Stop romantic music effects
        function stopMusicEffects() {
            if (musicNotesInterval) {
                clearInterval(musicNotesInterval);
                musicNotesInterval = null;
            }
            if (heartBurstTimeout) {
                clearTimeout(heartBurstTimeout);
                heartBurstTimeout = null;
            }
            document.body.style.animation = '';
            
            // Clean up any lingering DOM elements
            document.querySelectorAll('.music-note').forEach(note => note.remove());
        }
        
        // Create floating music notes
        function createFloatingMusicNotes() {
            if (!isPlaying) return;
            
            const notes = ['ğŸµ', 'ğŸ¶', 'â™ª', 'â™«', 'â™¬', 'ğŸ¼'];
            const note = document.createElement('div');
            note.className = 'music-note';
            note.textContent = notes[Math.floor(Math.random() * notes.length)];
            note.style.left = Math.random() * window.innerWidth + 'px';
            note.style.top = window.innerHeight + 'px';
            
            document.body.appendChild(note);
            
            setTimeout(() => note.remove(), 4000);
        }
        
        // Create mini heart explosion for music
        function createMiniHeartExplosion() {
            const hearts = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’˜'];
            for (let i = 0; i < 5; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = Math.random() * window.innerWidth + 'px';
                heart.style.top = Math.random() * window.innerHeight + 'px';
                heart.style.fontSize = Math.random() * 20 + 15 + 'px';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '999';
                heart.style.animation = 'floatUp 2s ease-out forwards';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 2000);
            }
        }
        
        // Create sunshine effect for smile
        function createSunshineEffect() {
            const sunshine = ['â˜€ï¸', 'ğŸŒ', 'âœ¨', 'ğŸŒŸ', 'ğŸ’›', 'ğŸ˜Š'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const sun = document.createElement('div');
                    sun.textContent = sunshine[Math.floor(Math.random() * sunshine.length)];
                    sun.style.position = 'fixed';
                    sun.style.left = Math.random() * window.innerWidth + 'px';
                    sun.style.top = Math.random() * window.innerHeight + 'px';
                    sun.style.fontSize = Math.random() * 30 + 20 + 'px';
                    sun.style.pointerEvents = 'none';
                    sun.style.zIndex = '999';
                    sun.style.animation = 'sunGlow 3s ease-out forwards';
                    document.body.appendChild(sun);
                    
                    setTimeout(() => sun.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Create joyful explosion for smile
        function createJoyfulExplosion() {
            const joyEmojis = ['ğŸ˜Š', 'ğŸ˜', 'ğŸ¥°', 'ğŸ˜˜', 'ğŸ’•', 'ğŸ’–', 'âœ¨', 'ğŸŒˆ'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const joy = document.createElement('div');
                    joy.textContent = joyEmojis[Math.floor(Math.random() * joyEmojis.length)];
                    joy.style.position = 'fixed';
                    joy.style.left = Math.random() * window.innerWidth + 'px';
                    joy.style.top = Math.random() * window.innerHeight + 'px';
                    joy.style.fontSize = Math.random() * 35 + 25 + 'px';
                    joy.style.pointerEvents = 'none';
                    joy.style.zIndex = '999';
                    joy.style.animation = 'joyBounce 2.5s ease-out forwards';
                    document.body.appendChild(joy);
                    
                    setTimeout(() => joy.remove(), 2500);
                }, i * 120);
            }
        }
        
        // Create beautiful ring effect for promises
        function createRingEffect() {
            const rings = ['ğŸ’', 'ğŸ’', 'âœ¨', 'ğŸ‘‘'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const ring = document.createElement('div');
                    ring.textContent = rings[Math.floor(Math.random() * rings.length)];
                    ring.style.position = 'fixed';
                    ring.style.left = '50%';
                    ring.style.top = '50%';
                    ring.style.transform = 'translate(-50%, -50%)';
                    ring.style.fontSize = Math.random() * 30 + 20 + 'px';
                    ring.style.pointerEvents = 'none';
                    ring.style.zIndex = '999';
                    
                    // Create circular motion
                    const angle = (i * 360 / 15) * (Math.PI / 180);
                    const radius = 100 + Math.random() * 100;
                    const endX = Math.cos(angle) * radius;
                    const endY = Math.sin(angle) * radius;
                    
                    ring.style.animation = `ringExpand 3s ease-out forwards`;
                    ring.style.setProperty('--endX', endX + 'px');
                    ring.style.setProperty('--endY', endY + 'px');
                    
                    document.body.appendChild(ring);
                    
                    setTimeout(() => ring.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Secret love game (click sequence)
        let clickSequence = [];
        const secretSequence = ['heart', 'letter', 'music'];
        const secretSequence2 = ['heart', 'music', 'letter'];
        
        mainHeart.addEventListener('click', function() {
            clickSequence.push('heart');
            checkSecretSequence();
        });
        
        letterButton.addEventListener('click', function() {
            clickSequence.push('letter');
            checkSecretSequence();
        });
        
        function checkSecretSequence() {
            if (clickSequence.length > 3) {
                clickSequence = clickSequence.slice(-3);
            }
            
            if (JSON.stringify(clickSequence) === JSON.stringify(secretSequence) || 
                JSON.stringify(clickSequence) === JSON.stringify(secretSequence2)) {
                triggerSecretSurprise();
                clickSequence = [];
            }
        }
        
        function triggerSecretSurprise() {
            document.body.style.animation = 'rainbow 2s ease-in-out';
            createMassiveHeartExplosion();
            
            setTimeout(() => {
                alert('ğŸ‰ ×’×™×œ×™×ª ××ª ×”×¡×•×“! ğŸ‰\n××¦××ª ××ª ×¨×¦×£ ×”××”×‘×” ×”× ×¡×ª×¨!\n××ª ×¤×©×•×˜ ××“×”×™××”! ğŸ’–âœ¨');
                document.body.style.animation = '';
            }, 2000);
        }
        
        function createMassiveHeartExplosion() {
            const hearts = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ’', 'ğŸ’', 'ğŸ’“', 'ğŸ’Ÿ', 'â™¥ï¸'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.top = Math.random() * window.innerHeight + 'px';
                    heart.style.fontSize = Math.random() * 40 + 20 + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '9999';
                    heart.style.animation = 'floatUp 3s ease-out forwards';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 3000);
                }, i * 50);
            }
        }
        
        // Rainbow animation for secret and gentle pulse for music
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rainbow {
                0% { filter: hue-rotate(0deg); }
                100% { filter: hue-rotate(360deg); }
            }
            
            @keyframes gentlePulse {
                0%, 100% { 
                    filter: brightness(1) saturate(1);
                    transform: scale(1);
                }
                50% { 
                    filter: brightness(1.1) saturate(1.2);
                    transform: scale(1.005);
                }
            }
            
            @keyframes ringExpand {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(0) rotate(0deg);
                }
                50% {
                    opacity: 0.8;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(1) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(0.5) rotate(360deg);
                }
            }
            
            @keyframes sunGlow {
                0% {
                    opacity: 0;
                    transform: scale(0) rotate(0deg);
                    filter: brightness(1);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.2) rotate(180deg);
                    filter: brightness(1.5) drop-shadow(0 0 15px gold);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.3) rotate(360deg);
                    filter: brightness(2);
                }
            }
            
            @keyframes joyBounce {
                0% {
                    opacity: 1;
                    transform: scale(0) translateY(0px);
                }
                30% {
                    opacity: 1;
                    transform: scale(1.3) translateY(-30px);
                }
                60% {
                    opacity: 1;
                    transform: scale(1) translateY(-10px);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.5) translateY(-50px);
                }
            }
        `;
        document.head.appendChild(style);
        
        // Cleanup function for page unload
        function cleanupAll() {
            stopMusicEffects();
            if (romanticAudio) {
                romanticAudio.pause();
                romanticAudio.src = '';
                romanticAudio.load();
            }
            // Clean up all dynamic elements
            document.querySelectorAll('.floating-heart, .music-note, [style*="floatUp"], [style*="fall"]').forEach(el => el.remove());
        }
        
        // Add cleanup on page unload
        window.addEventListener('beforeunload', cleanupAll);
        window.addEventListener('unload', cleanupAll);
        
        // Special surprise after spending time on the page
        setTimeout(() => {
            const surpriseDiv = document.createElement('div');
            surpriseDiv.style.position = 'fixed';
            surpriseDiv.style.top = '50%';
            surpriseDiv.style.left = '50%';
            surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
            surpriseDiv.style.background = 'linear-gradient(135deg, rgba(255, 107, 107, 0.95), rgba(255, 182, 193, 0.95))';
            surpriseDiv.style.backdropFilter = 'blur(15px)';
            surpriseDiv.style.padding = '40px';
            surpriseDiv.style.borderRadius = '25px';
            surpriseDiv.style.color = 'white';
            surpriseDiv.style.fontFamily = "'Dancing Script', cursive";
            surpriseDiv.style.fontSize = '28px';
            surpriseDiv.style.textAlign = 'center';
            surpriseDiv.style.zIndex = '10001';
            surpriseDiv.style.border = '3px solid rgba(255, 255, 255, 0.4)';
            surpriseDiv.style.boxShadow = '0 25px 50px rgba(255, 107, 107, 0.5)';
            surpriseDiv.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            surpriseDiv.innerHTML = `
                ğŸŒŸ ××ª ×™×•×“×¢×ª ××”? ğŸŒŸ<br><br>
                <span style="font-size: 22px;">×× ×™ ×›×œ ×›×š ×©××— ×©××ª ×›××Ÿ ××™×ª×™ ×¢×›×©×™×•...<br>
                ×›×œ ×©× ×™×™×” ×©××ª ××‘×œ×” ×¤×” ×–×” ××ª× ×” ×‘×©×‘×™×œ×™ ğŸ’•<br><br>
                <span style="font-size: 18px; opacity: 0.9;">×× ×™ ××•×”×‘ ××•×ª×š ×™×•×ª×¨ ××›×œ ×”×›×•×›×‘×™× ×‘×©××™×™× âœ¨</span><br><br>
                <small style="font-size: 16px; cursor: pointer; opacity: 0.8;">×œ×—×¦×™ ×›×“×™ ×œ×”××©×™×š ğŸ’–</small>
            `;
            
            document.body.appendChild(surpriseDiv);
            
            // Animate in
            setTimeout(() => {
                surpriseDiv.style.transform = 'translate(-50%, -50%) scale(1)';
                createMassiveHeartExplosion();
            }, 100);
            
            // Close on click
            surpriseDiv.addEventListener('click', () => {
                surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                setTimeout(() => surpriseDiv.remove(), 500);
            });
            
            // Auto close after 12 seconds
            setTimeout(() => {
                if (surpriseDiv.parentNode) {
                    surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                    setTimeout(() => surpriseDiv.remove(), 500);
                }
            }, 12000);
        }, 20000); // Show after 20 seconds
        
        // Chrome-specific optimization and emergency restart
        if (isChrome) {
            console.log('Chrome detected - Running in performance mode');
            
            // Update music title for Chrome users
            const musicTitle = document.getElementById('musicTitle');
            musicTitle.innerHTML = 'ğŸµ Azizam - Our Love Song ğŸ’•<br><small style="font-size: 12px; opacity: 0.8;">(Chrome Optimized)</small>';
            
            // Add emergency restart button for Chrome
            const restartBtn = document.createElement('button');
            restartBtn.textContent = 'ğŸ”„ Restart Audio';
            restartBtn.style.position = 'fixed';
            restartBtn.style.top = '120px';
            restartBtn.style.right = '20px';
            restartBtn.style.background = 'rgba(255, 107, 107, 0.9)';
            restartBtn.style.color = 'white';
            restartBtn.style.border = 'none';
            restartBtn.style.padding = '8px 15px';
            restartBtn.style.borderRadius = '15px';
            restartBtn.style.fontSize = '12px';
            restartBtn.style.cursor = 'pointer';
            restartBtn.style.zIndex = '10001';
            restartBtn.style.display = 'none';
            restartBtn.addEventListener('click', function() {
                // Emergency audio restart
                romanticAudio.pause();
                romanticAudio.currentTime = 0;
                romanticAudio.load();
                playPauseBtn.textContent = 'â–¶ï¸';
                isPlaying = false;
                stopMusicEffects();
                progressBar.style.width = '0%';
                this.style.display = 'none';
            });
            document.body.appendChild(restartBtn);
            
            // Show restart button if audio seems stuck
            setTimeout(() => {
                if (isChrome && !romanticAudio.duration) {
                    restartBtn.style.display = 'block';
                }
            }, 5000);
            
            // Minimal animations for Chrome
            createParticles(); // Only particles for Chrome
        } else {
            // Full animations for other browsers
            createParticles();
            createStars();
            createRosePetals();
        }
        
        // Enhanced interactive magic with Chrome optimization
        let lastSparkleTime = 0;
        const sparkleThrottle = isChrome ? 2000 : 500; // Much less frequent for Chrome
        
        document.addEventListener('mousemove', function(e) {
            // Skip mouse effects entirely for Chrome to prevent hanging
            if (isChrome) return;
            
            const now = Date.now();
            if (Math.random() > 0.98 && (now - lastSparkleTime) > sparkleThrottle) {
                lastSparkleTime = now;
                const effects = ['âœ¨', 'ğŸ’«', 'â­', 'ğŸŒŸ', 'ğŸ’–'];
                const sparkle = document.createElement('div');
                sparkle.textContent = effects[Math.floor(Math.random() * effects.length)];
                sparkle.style.position = 'fixed';
                sparkle.style.left = e.clientX + Math.random() * 20 - 10 + 'px';
                sparkle.style.top = e.clientY + Math.random() * 20 - 10 + 'px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.fontSize = Math.random() * 8 + 8 + 'px';
                sparkle.style.animation = 'floatUp 1.5s ease-out forwards';
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) sparkle.remove();
                }, 1500);
            }
        });
        
        // Add click effects to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255, 255, 255, 0.6)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.left = e.offsetX + 'px';
                ripple.style.top = e.offsetY + 'px';
                ripple.style.width = ripple.style.height = '20px';
                ripple.style.marginLeft = ripple.style.marginTop = '-10px';
                
                this.style.position = 'relative';
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        });
        
        // Ripple effect animation
        const rippleStyle = document.createElement('style');
        rippleStyle.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(rippleStyle);
    </script>
</body>
</html> 