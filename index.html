<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>לאהובה שלי ❤️</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;600;700&family=Amatic+SC:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rubik', 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            direction: rtl;
        }
        
        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Container */
        .container {
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }
        
        /* Main heart animation */
        .heart-container {
            position: relative;
            margin-bottom: 40px;
        }
        
        .main-heart {
            font-size: 120px;
            color: #ff6b6b;
            animation: heartbeat 1.5s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .main-heart:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 0 30px #ff6b6b);
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }
        
        /* Floating hearts */
        .floating-heart {
            position: absolute;
            color: #ff6b6b;
            font-size: 20px;
            pointer-events: none;
            animation: floatUp 3s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0);
            }
            50% {
                opacity: 1;
                transform: translateY(-50px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }
        
        /* Message container */
        .message-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .title {
            font-family: 'Amatic SC', 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 1s ease-out;
        }
        
        .love-message {
            font-size: 1.4rem;
            color: #fff;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .typewriter {
            border-right: 2px solid #fff;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { border-color: transparent; }
            51%, 100% { border-color: #fff; }
        }
        
        /* Interactive button */
        .love-button {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-family: 'Poppins', sans-serif;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s forwards;
        }
        
        .love-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
            background: linear-gradient(45deg, #ff8e8e, #ff6b6b);
        }
        
        .love-button:active {
            transform: translateY(0);
        }
        
        /* Hidden surprise message */
        .surprise-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
        }
        
        .surprise-message.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .surprise-message h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .surprise-message p {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .close-surprise {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
        }
        
        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Enhanced responsive design for all devices */
        
        /* Base responsive container adjustments */
        .container {
            padding: 15px;
            max-width: 100vw;
            /* Fix for mobile viewport height issues */
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
        
        .message-container {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 40px auto;
        }
        
        /* Better touch targets for mobile */
        .love-button {
            min-height: 48px; /* Minimum touch target size */
            min-width: 48px;
            margin: 10px 5px;
            display: inline-block;
            white-space: nowrap;
        }
        
        /* Improved button layout for mobile */
        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* Large desktop screens (Mac, PC) */
        @media (min-width: 1200px) {
            .title {
                font-size: 4rem;
            }
            
            .love-message {
                font-size: 1.6rem;
            }
            
            .main-heart {
                font-size: 140px;
            }
            
            .message-container {
                padding: 50px 60px;
            }
            
            .romantic-music-player {
                min-width: 400px;
                max-width: 450px;
            }
        }
        
        /* Tablet landscape and smaller desktops */
        @media (max-width: 1199px) and (min-width: 769px) {
            .title {
                font-size: 3.2rem;
            }
            
            .love-message {
                font-size: 1.3rem;
            }
            
            .main-heart {
                font-size: 100px;
            }
            
            .message-container {
                padding: 35px 40px;
            }
            
            .romantic-music-player {
                min-width: 350px;
                max-width: 400px;
            }
        }
        
        /* Tablets and small laptops */
        @media (max-width: 768px) and (min-width: 481px) {
            .title {
                font-size: 2.8rem;
                margin-bottom: 25px;
            }
            
            .love-message {
                font-size: 1.2rem;
                line-height: 1.7;
            }
            
            .main-heart {
                font-size: 90px;
                margin-bottom: 25px;
            }
            
            .message-container {
                padding: 35px 30px;
                margin: 0 20px 35px 20px;
            }
            
            .love-button {
                padding: 14px 25px;
                font-size: 1.1rem;
                margin: 8px 4px;
            }
            
            .romantic-music-player {
                position: fixed;
                top: 15px;
                right: 15px;
                left: 15px;
                max-width: none;
                min-width: auto;
                padding: 20px;
                border-radius: 20px;
            }
        }
        
        /* Mobile phones - Enhanced */
        @media (max-width: 480px) {
            /* Fix viewport height on mobile browsers */
            body {
                min-height: 100vh;
                min-height: -webkit-fill-available;
            }
            
            .container {
                padding: 10px;
                min-height: 100vh;
                min-height: -webkit-fill-available;
            }
            
            .title {
                font-size: 2.2rem;
                margin-bottom: 20px;
                line-height: 1.2;
            }
            
            .love-message {
                font-size: 1.1rem;
                line-height: 1.6;
                margin-bottom: 25px;
            }
            
            .main-heart {
                font-size: 70px;
                margin-bottom: 20px;
                /* Better touch area */
                padding: 10px;
                border-radius: 50%;
                transition: all 0.2s ease;
            }
            
            .main-heart:active {
                background: rgba(255, 255, 255, 0.1);
                transform: scale(0.95);
            }
            
            .message-container {
                padding: 25px 20px;
                margin: 0 10px 25px 10px;
                border-radius: 15px;
            }
            
            /* Improved button layout for mobile */
            .love-button {
                padding: 12px 20px;
                font-size: 1rem;
                margin: 6px 3px;
                border-radius: 25px;
                min-height: 44px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                flex: 1;
                min-width: calc(50% - 10px);
                max-width: calc(50% - 10px);
                text-align: center;
            }
            
            /* Stack buttons vertically on very small screens */
            @media (max-width: 360px) {
                .love-button {
                    min-width: calc(100% - 6px);
                    max-width: calc(100% - 6px);
                    margin: 5px 3px;
                }
            }
            
            .surprise-message, .love-letter {
                padding: 25px 15px;
                margin: 0 10px;
                width: calc(100% - 20px);
                max-width: none;
                max-height: 85vh;
                overflow-y: auto;
                border-radius: 15px;
            }
            
            .surprise-message h2, .love-letter h3 {
                font-size: 1.8rem;
                margin-bottom: 15px;
            }
            
            .surprise-message p, .love-letter p {
                font-size: 0.95rem;
                line-height: 1.5;
                margin-bottom: 12px;
            }
            
            .floating-heart {
                font-size: 16px;
            }
            
            /* Mobile-optimized music player */
            .romantic-music-player {
                position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                max-width: none;
                min-width: auto;
                padding: 15px;
                z-index: 1000;
                border-radius: 15px;
            }
            
            .music-title {
                font-size: 16px;
                margin-bottom: 12px;
            }
            
            .music-controls {
                gap: 15px;
                margin-bottom: 12px;
            }
            
            .play-pause-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .volume-control {
                gap: 8px;
            }
            
            .volume-control span {
                font-size: 16px;
            }
            
            /* Better progress bar for touch */
            .progress-container {
                height: 12px;
                border-radius: 6px;
                margin-bottom: 8px;
                /* Larger touch target */
                padding: 4px 0;
                margin: 4px 0 12px 0;
            }
            
            .progress-bar {
                height: 12px;
                border-radius: 6px;
            }
            
            .time-display {
                font-size: 13px;
            }
        }
        
        /* Extra small mobile phones */
        @media (max-width: 320px) {
            .title {
                font-size: 1.9rem;
            }
            
            .love-message {
                font-size: 1rem;
            }
            
            .main-heart {
                font-size: 55px;
            }
            
            .message-container {
                padding: 20px 15px;
                margin: 0 5px 20px 5px;
            }
            
            .love-button {
                font-size: 0.9rem;
                padding: 10px 15px;
            }
        }
        
        /* Landscape orientation on mobile - Enhanced */
        @media (max-height: 500px) and (orientation: landscape) {
            .container {
                padding: 5px;
                min-height: 100vh;
            }
            
            .main-heart {
                font-size: 40px;
                margin-bottom: 10px;
            }
            
            .title {
                font-size: 1.6rem;
                margin-bottom: 10px;
            }
            
            .love-message {
                font-size: 0.9rem;
                margin-bottom: 15px;
            }
            
            .message-container {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .love-button {
                padding: 8px 15px;
                font-size: 0.9rem;
                margin: 3px 2px;
            }
            
            .romantic-music-player {
                top: 5px;
                left: 5px;
                right: 5px;
                padding: 10px;
            }
            
            .music-title {
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .play-pause-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
        
        /* Touch device optimizations - Enhanced */
        @media (hover: none) and (pointer: coarse) {
            /* Disable hover effects on touch devices */
            .main-heart:hover {
                transform: none;
                filter: none;
            }
            
            .love-button:hover {
                transform: none;
                box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            }
            
            .romantic-music-player:hover {
                transform: none;
                box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
            }
            
            /* Better active states for touch */
            .main-heart:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
            
            .love-button:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
            
            .play-pause-btn:active {
                transform: scale(0.9);
            }
            
            /* Larger touch targets */
            .close-surprise, .close-letter {
                min-height: 44px;
                min-width: 44px;
                padding: 12px 20px;
            }
        }
        
        /* High DPI screens (Retina displays) - Enhanced */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .title, .love-message {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            
            /* Sharper borders on high DPI */
            .message-container, .romantic-music-player, .surprise-message, .love-letter {
                border: 0.5px solid rgba(255, 255, 255, 0.2);
            }
        }
        
        /* Safe area handling for devices with notches */
        @supports (padding: max(0px)) {
            .container {
                padding-left: max(15px, env(safe-area-inset-left));
                padding-right: max(15px, env(safe-area-inset-right));
            }
            
            .romantic-music-player {
                top: max(10px, env(safe-area-inset-top));
                left: max(10px, env(safe-area-inset-left));
                right: max(10px, env(safe-area-inset-right));
            }
        }
        
        /* Reduce animations on devices that prefer reduced motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .main-heart {
                animation: none;
            }
            
            .particle, .star, .rose-petal {
                animation: none;
                opacity: 0.3;
            }
        }
        
        /* Dark mode support for mobile devices */
        @media (prefers-color-scheme: dark) {
            /* Keep the romantic theme but adjust for dark mode preference */
            .surprise-message, .love-letter {
                background: rgba(20, 20, 30, 0.95);
                backdrop-filter: blur(15px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .surprise-message h2, .love-letter h3 {
                color: #ff8e8e;
            }
            
            .surprise-message p, .love-letter p {
                color: #e0e0e0;
            }
        }
        
        /* Stars animation */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            color: rgba(255, 255, 255, 0.8);
            animation: twinkle 2s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
            from { opacity: 0.3; }
            to { opacity: 1; }
        }
        
        /* Rose petals animation */
        .rose-petals {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .rose-petal {
            position: absolute;
            color: #ff69b4;
            font-size: 16px;
            animation: fall 8s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Aurora background effect */
        .aurora {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }
        
        .aurora::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 0, 150, 0.1) 50%, 
                transparent 70%),
                linear-gradient(-45deg, 
                transparent 30%, 
                rgba(0, 255, 255, 0.1) 50%, 
                transparent 70%);
            animation: auroraMove 10s ease-in-out infinite alternate;
        }
        
        @keyframes auroraMove {
            0% { transform: translateX(-50px) translateY(-30px) rotate(0deg); }
            100% { transform: translateX(50px) translateY(30px) rotate(5deg); }
        }
        
        /* Love letter animation */
        .love-letter {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(145deg, #ffeaa7, #fdcb6e, #e17055);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            max-width: 500px;
            text-align: center;
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid #d63031;
        }
        
        .love-letter.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .love-letter h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #2d3436;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .love-letter p {
            color: #2d3436;
            font-size: 1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            font-family: 'Poppins', sans-serif;
        }
        
        .close-letter {
            background: #d63031;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            display: block;
            margin: 20px auto 0;
            font-weight: 600;
        }
        
        /* Romantic Music Player */
        .romantic-music-player {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.3), rgba(255, 182, 193, 0.3));
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 182, 193, 0.5);
            border-radius: 25px;
            padding: 25px 30px;
            color: white;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 400px;
            max-width: 450px;
            direction: ltr !important;
        }
        
        .romantic-music-player:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(255, 107, 107, 0.4);
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.4), rgba(255, 182, 193, 0.4));
        }
        
        .music-title {
            font-family: 'Rubik', 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
        }
        
        .music-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .play-pause-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        
        .play-pause-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .volume-control span {
            font-size: 18px;
        }
        
        .volume-slider {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(255, 107, 107, 0.5);
        }
        
        .progress-container {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            margin-bottom: 10px;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            direction: ltr !important;
        }
        
        .progress-container:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e, #ffb6c1);
            width: 0%;
            transition: width 0.2s ease;
            border-radius: 4px;
            position: relative;
            box-shadow: 0 1px 3px rgba(255, 107, 107, 0.4);
            direction: ltr !important;
            left: 0;
            transform-origin: left center;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 2px;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 1px;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.9;
            font-weight: 600;
        }
        

        
        /* Music visualization */
        .music-visualizer {
            display: flex;
            align-items: end;
            gap: 3px;
            height: 25px;
            margin-left: 15px;
        }
        
        .visualizer-bar {
            width: 4px;
            background: linear-gradient(to top, #ff6b6b, #ffb6c1);
            border-radius: 2px;
            animation: musicBounce 0.8s ease-in-out infinite alternate;
        }
        
        .visualizer-bar:nth-child(1) { animation-delay: 0s; }
        .visualizer-bar:nth-child(2) { animation-delay: 0.1s; }
        .visualizer-bar:nth-child(3) { animation-delay: 0.2s; }
        .visualizer-bar:nth-child(4) { animation-delay: 0.3s; }
        .visualizer-bar:nth-child(5) { animation-delay: 0.4s; }
        
        @keyframes musicBounce {
            0% { height: 5px; }
            100% { height: 25px; }
        }
        
        /* Floating music notes */
        .music-note {
            position: fixed;
            color: rgba(255, 182, 193, 0.8);
            font-size: 20px;
            pointer-events: none;
            animation: floatMusicNote 4s ease-out forwards;
            z-index: 999;
        }
        
        @keyframes floatMusicNote {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-80px) rotate(180deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) rotate(360deg) scale(0.3);
            }
        }
    </style>
</head>
<body>
    <!-- Aurora background -->
    <div class="aurora"></div>
    
    <!-- Animated particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Stars -->
    <div class="stars" id="stars"></div>
    
    <!-- Rose petals -->
    <div class="rose-petals" id="rosePetals"></div>
    
    <!-- Romantic Music Player -->
    <div class="romantic-music-player" id="romanticPlayer">
                    <div class="music-title" id="musicTitle">🎵 תמר יהלומי & יונתן קלימי - מזל 💕</div>
        <div class="music-controls">
            <button class="play-pause-btn" id="playPauseBtn">▶️</button>
            <div class="volume-control">
                <span>🔊</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>
            <div class="music-visualizer" id="musicVisualizer" style="display: none;">
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
                <div class="visualizer-bar"></div>
            </div>
        </div>
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">0:00</span>
        </div>
    </div>
    
            <!-- Hidden Audio Element with Archive.org hosting -->
        <audio id="romanticAudio" preload="auto" autoplay muted crossorigin="anonymous">
            <source src="https://archive.org/download/20250623_20250623_1949/תמר%20יהלומי%20%26%20יונתן%20קלימי%20-%20מזל.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    
    <div class="container">
        <!-- Main heart -->
        <div class="heart-container">
            <div class="main-heart" id="mainHeart">❤️</div>
        </div>
        
        <!-- Message container -->
        <div class="message-container">
            <h1 class="title">לאהובה היפה שלי</h1>
            <div class="love-message" id="loveMessage">
                <span class="typewriter" id="typewriter"></span>
            </div>
            <div class="button-container">
                <button class="love-button" id="loveButton">לחצי להפתעה 💕</button>
                <button class="love-button" id="letterButton" style="background: linear-gradient(45deg, #fdcb6e, #e17055);">מכתב אהבה 💌</button>
                <button class="love-button" id="promiseButton" style="background: linear-gradient(45deg, #fd79a8, #e84393);">אני מבטיח 💍</button>
                <button class="love-button" id="smileButton" style="background: linear-gradient(45deg, #ffeaa7, #fdcb6e); color: #2d3436; text-shadow: none;">החיוך שלך 😊</button>
                <button class="love-button" id="reasonsButton" style="background: linear-gradient(45deg, #a29bfe, #6c5ce7);">למה אני אוהב אותך 💜</button>
                <button class="love-button" id="kissButton" style="background: linear-gradient(45deg, #ff7675, #d63031);">נשיקה וירטואלית 💋</button>
                <button class="love-button" id="wishButton" style="background: linear-gradient(45deg, #00b894, #00a085);">הביעי משאלה 🌟</button>

            </div>
        </div>
    </div>
    
    <!-- Hidden surprise message -->
    <div class="surprise-message" id="surpriseMessage">
        <h2>את הכול בשבילי! ✨</h2>
        <p>כל רגע איתך מרגיש כמו קסם. את מאירה לי את העולם בצורה שלא חשבתי שאפשרית. 
           אני אוהב את החיוך שלך, את הצחוק שלך, את הדרך שבה את גורמת לי להרגיש כמו האדם הכי בר מזל בעולם.</p>
        <p>תודה לך על זה שאת את, על זה שאת שלי, ועל זה שאת הופכת כל יום להרפתקה ששווה לחיות. 💖</p>
        <button class="close-surprise" id="closeSurprise">סגור 💕</button>
    </div>
    
    <!-- Love Letter -->
    <div class="love-letter" id="loveLetter">
        <h3>האהובה הכי יקרה שלי 💕</h3>
        <p>מהרגע שנכנסת לחיים שלי, הכול השתנה. לא רק האירה את הימים שלי - הפכת להיות השמש שלי, הסיבה שלי לחייך, השלום הכי אהוב והפרידה הכי קשה.</p>
        
        <p>אני אוהב את הדרך שבה את צוחקת על הבדיחות המטופשות שלי, איך את הופכת רגעים רגילים למיוחדים, ואיך את רואה את העולם בעיניים כל כך יפות. את גורמת לי לרצות להיות הגרסה הכי טובה של עצמי.</p>
        
        <p>כל יום איתך הוא מתנה שאני אף פעם לא רוצה לפתוח לגמרי כי אני רוצה שהקסם יימשך לנצח. את היום שלי, המחר שלי, וכל המחרים שיבואו אחרי זה.</p>
        
        <p>אני מבטיח לאהוב אותך בכל עונה, בכל אתגר, ובכל שמחה שהחיים יביאו לדרכנו. את הלב שלי, הנשמה שלי, הכול שלי.</p>
        
        <p style="text-align: center; font-style: italic; margin-top: 30px;">לנצח ותמיד שלך,<br>מכל הלב שלי ❤️</p>
        
        <button class="close-letter" id="closeLetter">סגור מכתב 💌</button>
    </div>
    
    <!-- Your Beautiful Smile Section -->
    <div class="love-letter" id="smileSection" style="background: linear-gradient(145deg, #ffeaa7, #fdcb6e, #f39c12);">
        <h3 style="color: #2d3436;">החיוך הכי יפה בעולם 😊</h3>
        <p style="color: #2d3436;">כשאת מחייכת אליי... אני פשוט נמס. הלב שלי עושה סלטות, העולם נעצר לרגע, ואני הופך להיות האדם הכי מאושר שיש.</p>
        
        <p style="color: #2d3436;">החיוך שלך הוא הקסם הכי חזק שקיים. הוא מאיר לי את היום, מחמם לי את הלב, וגורם לי להרגיש שהכול אפשרי. כשאת שמחה - אני שמח. כשאת עצובה - הלב שלי נשבר איתך.</p>
        
        <p style="color: #2d3436;">אנחנו מחוברים בצורה כל כך עמוקה... הרגשות שלך הם הרגשות שלי. כשאני רואה אותך צוחקת, אני יודע שזה הרגע הכי טוב בחיים שלי. ואם אי פעם אני רואה דמעה בעיניים שלך, העולם שלי מתמוטט.</p>
        
        <p style="color: #2d3436;">את הסיבה שלי לחייך כל בוקר. החיוך שלך הוא הבית שלי. 🏠💕</p>
        
        <p style="color: #2d3436; text-align: center; font-style: italic; margin-top: 30px; font-size: 18px;">תמיד תחייכי... כי אני אעשה הכול שתהיי שמחה 😊💖</p>
        
        <button class="close-letter" id="closeSmile" style="background: #f39c12;">סגור חיוך 😊</button>
    </div>
    
    <!-- Love Promises Section -->
    <div class="love-letter" id="promiseSection" style="background: linear-gradient(145deg, #fd79a8, #e84393, #ff6b6b);">
        <h3 style="color: white;">ההבטחות שלי אליך 💍</h3>
        <p style="color: white;">אני מבטיח לאהוב אותך בכל יום - ביום הכי טוב שלך ובגם ביום הכי קשה. אהיה שם להחזיק לך את היד, לנגב לך את הדמעות, ולחגוג איתך כל שמחה.</p>
        
        <p style="color: white;">אני מבטיח להאמין בך תמיד, לעודד אותך לחלום בגדול, ולהיות הכתף שלך לסמוך עליה. אהיה הבית שלך, המקום הבטוח שלך, והאדם שתמיד יודע כמה את מיוחדת.</p>
        
        <p style="color: white;">אני מבטיח לגדול איתך, ללמוד איתך, ולבנות איתך עתיד יפה. לא משנה מה החיים יביאו, אהיה שלך - בטוב וברע.</p>
        
        <p style="color: white;">אני מבטיח לעשות הכול כדי שתרגישי אהובה, מוערכת, ויפה כל יום מחדש. את תמיד תהיי המלכה שלי. 👑</p>
        
        <p style="color: white; text-align: center; font-style: italic; margin-top: 30px; font-size: 20px;">💕<br>לנצח ותמיד 💍</p>
        
        <button class="close-letter" id="closePromise" style="background: #e84393;">סגור הבטחות 💍</button>
    </div>
    
    <!-- Reasons Why I Love You Section -->
    <div class="love-letter" id="reasonsSection" style="background: linear-gradient(145deg, #a29bfe, #6c5ce7, #5f3dc4);">
        <h3 style="color: white;">למה אני אוהב אותך? 💜</h3>
        <div id="reasonsList" style="color: white; text-align: right; max-height: 60vh; overflow-y: auto; padding: 10px;">
            <p>🥰 את הכי חמודה שיש</p>
            <p>🍯 האת התינוקי הכי מתוק שקיים</p>
            <p>❤️ אני פשוט אוהב אותך</p>
            <p>👸 תמיד ידעתי שאת האישה שלי בחיים האלה</p>
            <p>💖 יש לך את הלב הכי מושלם שקיים על פני האדמה</p>
            <p>👼 את הבן אדם הכי טוב שיש פשוט</p>
            <p>😴 הדרך שבה את נרדמת ודוחפת אותי מהמיטה</p>
            <p>☀️ את מאירה לי את הלב עם החיוך שלך</p>
            <p>💝 את יודעת איך לחבק אותי בדיוק כשאני צריך</p>
            <p>💫 את גורמת לי להיות אדם טוב יותר</p>
            <p>🏠 איתך אני מרגיש בבית בכל מקום</p>
            <p>🌈 את הצבע בעולם שלי</p>
            <p>❤️ פשוט כי את... את</p>
        </div>
        <button class="close-letter" id="closeReasons" style="background: #5f3dc4;">סגור רשימה 💜</button>
    </div>
    
    <!-- Virtual Kiss Section -->
    <div class="love-letter" id="kissSection" style="background: linear-gradient(145deg, #ff7675, #d63031, #e17055);">
        <h3 style="color: white;">נשיקה מיוחדת בשבילך 💋</h3>
        <div style="text-align: center; margin: 30px 0;">
            <div id="kissAnimation" style="font-size: 80px; margin: 20px 0; cursor: pointer; transition: all 0.3s ease;">💋</div>
            <p style="color: white; font-size: 18px; margin: 20px 0;">לחצי על הנשיקה לחוויה מיוחדת...</p>
        </div>
        <p style="color: white; text-align: center;">כל נשיקה שלי היא דרך לומר לך כמה אני אוהב אותך...</p>
        <p style="color: white; text-align: center;">כשאני מנשק אותך, הזמן עוצר, והעולם נעלם...</p>
        <p style="color: white; text-align: center; font-style: italic; margin-top: 30px;">זו נשיקה מהלב שלי אליך 💕</p>
        <button class="close-letter" id="closeKiss" style="background: #d63031;">סגור נשיקה 💋</button>
    </div>
    
    <!-- Wish Making Section -->
    <div class="love-letter" id="wishSection" style="background: linear-gradient(145deg, #00b894, #00a085, #0984e3);">
        <h3 style="color: white;">הביעי משאלה 🌟</h3>
        <div style="text-align: center; margin: 30px 0;">
            <div id="wishStar" style="font-size: 100px; margin: 20px 0; cursor: pointer; animation: starTwinkle 2s ease-in-out infinite;">⭐</div>
            <p style="color: white; font-size: 18px;">לחצי על הכוכב, עצמי עיניים ובקשי משאלה...</p>
        </div>
        <p style="color: white; text-align: center;">אני מאמין שכל המשאלות שלך יתגשמו...</p>
        <p style="color: white; text-align: center;">כי את מגיעה רק לדברים הכי יפים בעולם...</p>
        <div id="wishResult" style="display: none; color: white; text-align: center; margin: 20px 0; font-style: italic;"></div>
        <button class="close-letter" id="closeWish" style="background: #0984e3;">סגור משאלה 🌟</button>
    </div>
    

    
    <script>
        // Typewriter effect
        const messages = [
            "אני אוהב אותך יותר ממה שמילים יכולות לבטא...",
            "אהבתי אליך יוקדת בחומן של אלף שמשות זוהרות...",
            "כשאת מחייכת אליי... אני פשוט נמס ממש 😊💕",
            "את השמש שלי, הירח שלי, וכל הכוכבים שלי...", 
            "החיוך שלך גורם לי להיות האדם הכי מאושר בעולם...",
            "כל פעימת לב לוחשת את השם שלך...",
            "כשאת שמחה - אני שמח, כשאת עצובה - הלב שלי נשבר...",
            "את הופכת את העולם שלי לבהיר יותר רק בזה שאת קיימת...",
            "אני מתאהב בך יותר כל יום מחדש...",
            "את הדבר הכי יפה שקרה לי בחיים...",
            "החיוך שלך הוא הבית שלי, המקום הבטוח שלי...",
            "איתך אני מרגיש שלם, מושלם, אהוב...",
            "כל רגע איתך הוא מתנה שאני שומר בלב...",
            "את לא רק האהובה שלי - את החלום שלי שהתגשם..."
        ];
        
        let currentMessage = 0;
        let currentChar = 0;
        const typewriter = document.getElementById('typewriter');
        
        function typeMessage() {
            if (currentChar < messages[currentMessage].length) {
                typewriter.textContent += messages[currentMessage].charAt(currentChar);
                currentChar++;
                setTimeout(typeMessage, 100);
            } else {
                setTimeout(() => {
                    typewriter.textContent = '';
                    currentChar = 0;
                    currentMessage = (currentMessage + 1) % messages.length;
                    typeMessage();
                }, 3000);
            }
        }
        
        // Start typewriter effect after page loads
        setTimeout(typeMessage, 2000);
        
        // Heart click animation
        const mainHeart = document.getElementById('mainHeart');
        mainHeart.addEventListener('click', function(e) {
            // Create floating hearts
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = '💖';
                heart.style.left = Math.random() * 100 + 'px';
                heart.style.top = Math.random() * 100 + 'px';
                this.appendChild(heart);
                
                setTimeout(() => heart.remove(), 3000);
            }
        });
        
        // Surprise button functionality
        const loveButton = document.getElementById('loveButton');
        const surpriseMessage = document.getElementById('surpriseMessage');
        const closeSurprise = document.getElementById('closeSurprise');
        
        // Love letter functionality
        const letterButton = document.getElementById('letterButton');
        const loveLetter = document.getElementById('loveLetter');
        const closeLetter = document.getElementById('closeLetter');
        
        // Smile section functionality
        const smileButton = document.getElementById('smileButton');
        const smileSection = document.getElementById('smileSection');
        const closeSmile = document.getElementById('closeSmile');
        
        // Promise section functionality
        const promiseButton = document.getElementById('promiseButton');
        const promiseSection = document.getElementById('promiseSection');
        const closePromise = document.getElementById('closePromise');
        
        // Reasons section functionality
        const reasonsButton = document.getElementById('reasonsButton');
        const reasonsSection = document.getElementById('reasonsSection');
        const closeReasons = document.getElementById('closeReasons');
        
        // Kiss section functionality
        const kissButton = document.getElementById('kissButton');
        const kissSection = document.getElementById('kissSection');
        const closeKiss = document.getElementById('closeKiss');
        const kissAnimation = document.getElementById('kissAnimation');
        
        // Wish section functionality
        const wishButton = document.getElementById('wishButton');
        const wishSection = document.getElementById('wishSection');
        const closeWish = document.getElementById('closeWish');
        const wishStar = document.getElementById('wishStar');
        


        
        // Romantic Music Player functionality
        const romanticAudio = document.getElementById('romanticAudio');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const currentTimeDisplay = document.getElementById('currentTime');
        const durationDisplay = document.getElementById('duration');
        const musicVisualizer = document.getElementById('musicVisualizer');
        
        let isPlaying = false;
        let musicNotesInterval;
        let heartBurstTimeout;
        
        loveButton.addEventListener('click', function() {
            surpriseMessage.classList.add('show');
            createHeartExplosion();
            createRosePetalExplosion();
        });
        
        closeSurprise.addEventListener('click', function() {
            surpriseMessage.classList.remove('show');
        });
        
        letterButton.addEventListener('click', function() {
            loveLetter.classList.add('show');
            createRosePetalExplosion();
        });
        
        closeLetter.addEventListener('click', function() {
            loveLetter.classList.remove('show');
        });
        
        smileButton.addEventListener('click', function() {
            smileSection.classList.add('show');
            createSunshineEffect();
            createJoyfulExplosion();
        });
        
        closeSmile.addEventListener('click', function() {
            smileSection.classList.remove('show');
        });
        
        promiseButton.addEventListener('click', function() {
            promiseSection.classList.add('show');
            createHeartExplosion();
            createRingEffect();
        });
        
        closePromise.addEventListener('click', function() {
            promiseSection.classList.remove('show');
        });
        
        reasonsButton.addEventListener('click', function() {
            reasonsSection.classList.add('show');
            createLoveRainbow();
            animateReasonsList();
        });
        
        closeReasons.addEventListener('click', function() {
            reasonsSection.classList.remove('show');
        });
        
        kissButton.addEventListener('click', function() {
            kissSection.classList.add('show');
            createKissEffect();
        });
        
        closeKiss.addEventListener('click', function() {
            kissSection.classList.remove('show');
        });
        
        kissAnimation.addEventListener('click', function() {
            createVirtualKiss();
        });
        
        wishButton.addEventListener('click', function() {
            wishSection.classList.add('show');
            createWishingStars();
        });
        
        closeWish.addEventListener('click', function() {
            wishSection.classList.remove('show');
        });
        
        wishStar.addEventListener('click', function() {
            makeWish();
        });
        

        
        // Romantic Music Player Controls
        playPauseBtn.addEventListener('click', function() {
            if (!isPlaying) {
                const playPromise = romanticAudio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        playPauseBtn.textContent = '⏸️';
                        musicVisualizer.style.display = 'flex';
                        startMusicEffects();
                        isPlaying = true;
                    }).catch(error => {
                        console.log('Play failed:', error);
                        alert('🎵 Audio loading... Please wait a moment and try again.');
                    });
                }
            } else {
                romanticAudio.pause();
                playPauseBtn.textContent = '▶️';
                musicVisualizer.style.display = 'none';
                stopMusicEffects();
                isPlaying = false;
            }
            
            // Secret sequence check
            clickSequence.push('music');
            checkSecretSequence();
        });
        
        // Volume control
        volumeSlider.addEventListener('input', function() {
            romanticAudio.volume = this.value / 100;
        });
        
        // Progress bar control
        progressContainer.addEventListener('click', function(e) {
            if (romanticAudio.duration && !isNaN(romanticAudio.duration)) {
                const rect = this.getBoundingClientRect();
                // Force left-to-right calculation regardless of page direction
                const clickX = e.clientX - rect.left;
                const pos = Math.max(0, Math.min(1, clickX / rect.width));
                romanticAudio.currentTime = pos * romanticAudio.duration;
                
                // Immediate visual feedback - ensure it grows from left
                progressBar.style.width = (pos * 100) + '%';
                progressBar.style.left = '0';
                progressBar.style.right = 'auto';
                
                // Create a small sparkle effect where clicked
                const sparkle = document.createElement('div');
                sparkle.textContent = '✨';
                sparkle.style.position = 'fixed';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.animation = 'floatUp 1s ease-out forwards';
                sparkle.style.zIndex = '9999';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1000);
            }
        });
        
        // Audio event listeners
        romanticAudio.addEventListener('loadedmetadata', function() {
            if (this.duration && !isNaN(this.duration)) {
                durationDisplay.textContent = formatTime(this.duration);
            } else {
                durationDisplay.textContent = '--:--';
            }
            volumeSlider.value = 70;
            this.volume = 0.7;
            progressBar.style.width = '0%';
            currentTimeDisplay.textContent = '0:00';
            
            // Check if autoplay started the music
            if (!this.paused && !isPlaying) {
                playPauseBtn.textContent = '⏸️';
                musicVisualizer.style.display = 'flex';
                startMusicEffects();
                isPlaying = true;
                console.log('Music autoplay detected! 🎵');
            }
        });
        
        romanticAudio.addEventListener('error', function(e) {
            console.log('Audio error:', e);
            durationDisplay.textContent = 'Error';
            currentTimeDisplay.textContent = 'Error';
        });
        
        romanticAudio.addEventListener('timeupdate', function() {
            if (this.duration && !isNaN(this.duration)) {
                const progress = Math.min((this.currentTime / this.duration) * 100, 100);
                progressBar.style.width = progress + '%';
                currentTimeDisplay.textContent = formatTime(this.currentTime);
                
                // Add subtle glow effect when music is playing
                if (isPlaying && progress > 0) {
                    progressBar.style.boxShadow = '0 1px 3px rgba(255, 107, 107, 0.4), 0 0 10px rgba(255, 107, 107, 0.3)';
                }
            }
        });
        
        romanticAudio.addEventListener('ended', function() {
            playPauseBtn.textContent = '▶️';
            musicVisualizer.style.display = 'none';
            stopMusicEffects();
            isPlaying = false;
            progressBar.style.width = '0%';
            progressBar.style.boxShadow = '0 1px 3px rgba(255, 107, 107, 0.4)';
            currentTimeDisplay.textContent = '0:00';
            this.currentTime = 0;
            
            // Special romantic message when song ends
            setTimeout(() => {
                createMassiveHeartExplosion();
                const endMessage = document.createElement('div');
                endMessage.style.position = 'fixed';
                endMessage.style.top = '50%';
                endMessage.style.left = '50%';
                endMessage.style.transform = 'translate(-50%, -50%)';
                endMessage.style.background = 'linear-gradient(135deg, rgba(255, 107, 107, 0.95), rgba(255, 182, 193, 0.95))';
                endMessage.style.backdropFilter = 'blur(15px)';
                endMessage.style.padding = '30px';
                endMessage.style.borderRadius = '20px';
                endMessage.style.color = 'white';
                endMessage.style.fontFamily = "'Dancing Script', cursive";
                endMessage.style.fontSize = '24px';
                endMessage.style.textAlign = 'center';
                endMessage.style.zIndex = '10000';
                endMessage.style.border = '2px solid rgba(255, 255, 255, 0.3)';
                endMessage.style.boxShadow = '0 20px 40px rgba(255, 107, 107, 0.4)';
                endMessage.innerHTML = '🎵 Our song just ended...<br>but our love story never will 💕<br><small style="font-size: 16px; opacity: 0.8;">Click to close 💖</small>';
                
                endMessage.addEventListener('click', () => endMessage.remove());
                document.body.appendChild(endMessage);
                
                setTimeout(() => {
                    if (endMessage.parentNode) endMessage.remove();
                }, 8000);
            }, 1000);
        });
        

        
        // New romantic functions for enhanced features
        function createLoveRainbow() {
            const colors = ['💜', '💙', '💚', '💛', '🧡', '❤️', '💕', '💖'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const colorHeart = document.createElement('div');
                    colorHeart.textContent = colors[Math.floor(Math.random() * colors.length)];
                    colorHeart.style.position = 'fixed';
                    colorHeart.style.left = Math.random() * window.innerWidth + 'px';
                    colorHeart.style.top = Math.random() * window.innerHeight + 'px';
                    colorHeart.style.fontSize = Math.random() * 25 + 20 + 'px';
                    colorHeart.style.pointerEvents = 'none';
                    colorHeart.style.zIndex = '999';
                    colorHeart.style.animation = 'rainbowFloat 4s ease-out forwards';
                    document.body.appendChild(colorHeart);
                    
                    setTimeout(() => colorHeart.remove(), 4000);
                }, i * 100);
            }
        }
        
        function animateReasonsList() {
            const reasons = document.querySelectorAll('#reasonsList p');
            reasons.forEach((reason, index) => {
                reason.style.opacity = '0';
                reason.style.transform = 'translateX(50px)';
                setTimeout(() => {
                    reason.style.transition = 'all 0.6s ease';
                    reason.style.opacity = '1';
                    reason.style.transform = 'translateX(0)';
                }, index * 200);
            });
        }
        
        function createKissEffect() {
            const kisses = ['💋', '😘', '💕', '❤️'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const kiss = document.createElement('div');
                    kiss.textContent = kisses[Math.floor(Math.random() * kisses.length)];
                    kiss.style.position = 'fixed';
                    kiss.style.left = Math.random() * window.innerWidth + 'px';
                    kiss.style.top = Math.random() * window.innerHeight + 'px';
                    kiss.style.fontSize = Math.random() * 30 + 20 + 'px';
                    kiss.style.pointerEvents = 'none';
                    kiss.style.zIndex = '999';
                    kiss.style.animation = 'kissFloat 3s ease-out forwards';
                    document.body.appendChild(kiss);
                    
                    setTimeout(() => kiss.remove(), 3000);
                }, i * 150);
            }
        }
        
        function createVirtualKiss() {
            const kissAnim = document.getElementById('kissAnimation');
            kissAnim.style.transform = 'scale(1.5)';
            kissAnim.style.filter = 'drop-shadow(0 0 20px #ff69b4)';
            
            // Create explosion of kisses
            for (let i = 0; i < 10; i++) {
                const kiss = document.createElement('div');
                kiss.textContent = '💋';
                kiss.style.position = 'fixed';
                kiss.style.left = '50%';
                kiss.style.top = '50%';
                kiss.style.fontSize = '30px';
                kiss.style.pointerEvents = 'none';
                kiss.style.zIndex = '9999';
                
                const angle = (i * 360 / 10) * (Math.PI / 180);
                const distance = 150;
                const endX = Math.cos(angle) * distance;
                const endY = Math.sin(angle) * distance;
                
                kiss.style.animation = `kissExplosion 2s ease-out forwards`;
                kiss.style.setProperty('--endX', endX + 'px');
                kiss.style.setProperty('--endY', endY + 'px');
                
                document.body.appendChild(kiss);
                setTimeout(() => kiss.remove(), 2000);
            }
            
            setTimeout(() => {
                kissAnim.style.transform = 'scale(1)';
                kissAnim.style.filter = 'none';
                
                // Show special message
                const kissMessage = document.createElement('div');
                kissMessage.style.position = 'fixed';
                kissMessage.style.top = '50%';
                kissMessage.style.left = '50%';
                kissMessage.style.transform = 'translate(-50%, -50%)';
                kissMessage.style.color = 'white';
                kissMessage.style.fontSize = '24px';
                kissMessage.style.fontFamily = "'Dancing Script', cursive";
                kissMessage.style.textAlign = 'center';
                kissMessage.style.zIndex = '10001';
                kissMessage.style.opacity = '0';
                kissMessage.style.transition = 'opacity 1s ease';
                kissMessage.style.background = 'linear-gradient(145deg, rgba(255, 118, 117, 0.95), rgba(214, 48, 49, 0.95), rgba(225, 112, 85, 0.95))';
                kissMessage.style.backdropFilter = 'blur(15px)';
                kissMessage.style.padding = '20px 30px';
                kissMessage.style.borderRadius = '20px';
                kissMessage.style.border = '2px solid rgba(255, 255, 255, 0.3)';
                kissMessage.style.boxShadow = '0 15px 35px rgba(214, 48, 49, 0.5)';
                kissMessage.style.maxWidth = '90vw';
                kissMessage.style.wordWrap = 'break-word';
                kissMessage.innerHTML = '💕 קיבלת נשיקה מהלב שלי 💕';
                
                document.body.appendChild(kissMessage);
                setTimeout(() => kissMessage.style.opacity = '1', 100);
                setTimeout(() => {
                    kissMessage.style.opacity = '0';
                    setTimeout(() => kissMessage.remove(), 1000);
                }, 3000);
            }, 500);
        }
        
        function createWishingStars() {
            const stars = ['⭐', '🌟', '✨', '💫'];
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const star = document.createElement('div');
                    star.textContent = stars[Math.floor(Math.random() * stars.length)];
                    star.style.position = 'fixed';
                    star.style.left = Math.random() * window.innerWidth + 'px';
                    star.style.top = Math.random() * window.innerHeight + 'px';
                    star.style.fontSize = Math.random() * 20 + 15 + 'px';
                    star.style.pointerEvents = 'none';
                    star.style.zIndex = '999';
                    star.style.animation = 'starWish 4s ease-out forwards';
                    document.body.appendChild(star);
                    
                    setTimeout(() => star.remove(), 4000);
                }, i * 120);
            }
        }
        
        function makeWish() {
            const wishStar = document.getElementById('wishStar');
            const wishResult = document.getElementById('wishResult');
            
            wishStar.style.transform = 'scale(1.5) rotate(360deg)';
            wishStar.style.filter = 'drop-shadow(0 0 30px gold)';
            
            const wishes = [
                "✨ המשאלה שלך עפה אל הכוכבים... ואני מאמין שהיא תתגשם! 🌙",
                "🌟 ראיתי את המשאלה שלך עוברת בשמיים... היא יפה כמוך! 💕",
                "⭐ הכוכבים לוחשים לי שהמשאלה שלך הולכת להתגשם... 🎆",
                "💫 המשאלה שלך זוהרת כמו הכוכב הכי בהיר! אני יודע שתתגשם! ✨",
                "🌠 ראיתי מטאור נושא את המשאלה שלך... דרך הקסם! 💖"
            ];
            
            setTimeout(() => {
                wishResult.innerHTML = wishes[Math.floor(Math.random() * wishes.length)];
                wishResult.style.display = 'block';
                wishResult.style.animation = 'fadeInGlow 2s ease-out';
                
                // Create shooting star effect
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const shootingStar = document.createElement('div');
                        shootingStar.textContent = '🌠';
                        shootingStar.style.position = 'fixed';
                        shootingStar.style.left = '0px';
                        shootingStar.style.top = Math.random() * window.innerHeight + 'px';
                        shootingStar.style.fontSize = '25px';
                        shootingStar.style.pointerEvents = 'none';
                        shootingStar.style.zIndex = '9999';
                        shootingStar.style.animation = 'shootingStar 2s linear forwards';
                        
                        document.body.appendChild(shootingStar);
                        setTimeout(() => shootingStar.remove(), 2000);
                    }, i * 300);
                }
                
                wishStar.style.transform = 'scale(1) rotate(0deg)';
                wishStar.style.filter = 'none';
            }, 1000);
        }
        


        // Create heart explosion
        function createHeartExplosion() {
            const colors = ['❤️', '💖', '💕', '💗', '💘', '💝'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.top = Math.random() * window.innerHeight + 'px';
                    heart.style.fontSize = Math.random() * 30 + 20 + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '999';
                    heart.style.animation = 'floatUp 2s ease-out forwards';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 2000);
                }, i * 100);
            }
        }
        
        // Create floating particles
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particles.appendChild(particle);
            }
        }
        
        // Create twinkling stars
        function createStars() {
            const stars = document.getElementById('stars');
            const warmStars = ['⭐', '🌟', '💛', '🧡', '❤️', '💕', '🔥'];
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = warmStars[Math.floor(Math.random() * warmStars.length)];
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.fontSize = Math.random() * 10 + 8 + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                stars.appendChild(star);
            }
        }
        
        // Create rose petal explosion
        function createRosePetalExplosion() {
            const petals = ['🌹', '🌺', '💐', '🌸', '🌷'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const petal = document.createElement('div');
                    petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                    petal.style.position = 'fixed';
                    petal.style.left = Math.random() * window.innerWidth + 'px';
                    petal.style.top = Math.random() * window.innerHeight + 'px';
                    petal.style.fontSize = Math.random() * 25 + 15 + 'px';
                    petal.style.pointerEvents = 'none';
                    petal.style.zIndex = '999';
                    petal.style.animation = 'fall 3s ease-out forwards';
                    document.body.appendChild(petal);
                    
                    setTimeout(() => petal.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Create continuous rose petals
        function createRosePetals() {
            const rosePetals = document.getElementById('rosePetals');
            const petals = ['🌹', '🌺', '💐', '🌸', '🌷'];
            
            for (let i = 0; i < 25; i++) {
                const petal = document.createElement('div');
                petal.className = 'rose-petal';
                petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDelay = Math.random() * 8 + 's';
                petal.style.animationDuration = (Math.random() * 3 + 8) + 's';
                rosePetals.appendChild(petal);
            }
        }
        
        // Format time function
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Start romantic music effects
        function startMusicEffects() {
            // Clear any existing effects first
            stopMusicEffects();
            
            // Start floating music notes
            musicNotesInterval = setInterval(createFloatingMusicNotes, 1500);
            
            // Add gentle pulsing effect to the website
            document.body.style.animation = 'gentlePulse 4s ease-in-out infinite';
            
            // Create occasional heart bursts
            function createHeartBursts() {
                if (isPlaying) {
                    createMiniHeartExplosion();
                    heartBurstTimeout = setTimeout(createHeartBursts, Math.random() * 3000 + 2000);
                }
            }
            heartBurstTimeout = setTimeout(createHeartBursts, 2000);
        }
        
        // Stop romantic music effects
        function stopMusicEffects() {
            if (musicNotesInterval) {
                clearInterval(musicNotesInterval);
                musicNotesInterval = null;
            }
            if (heartBurstTimeout) {
                clearTimeout(heartBurstTimeout);
                heartBurstTimeout = null;
            }
            document.body.style.animation = '';
            
            // Clean up any lingering DOM elements
            document.querySelectorAll('.music-note').forEach(note => note.remove());
        }
        
        // Create floating music notes
        function createFloatingMusicNotes() {
            if (!isPlaying) return;
            
            const notes = ['🎵', '🎶', '♪', '♫', '♬', '🎼'];
            const note = document.createElement('div');
            note.className = 'music-note';
            note.textContent = notes[Math.floor(Math.random() * notes.length)];
            note.style.left = Math.random() * window.innerWidth + 'px';
            note.style.top = window.innerHeight + 'px';
            
            document.body.appendChild(note);
            
            setTimeout(() => note.remove(), 4000);
        }
        
        // Create mini heart explosion for music
        function createMiniHeartExplosion() {
            const hearts = ['💕', '💖', '💗', '💘'];
            for (let i = 0; i < 5; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = Math.random() * window.innerWidth + 'px';
                heart.style.top = Math.random() * window.innerHeight + 'px';
                heart.style.fontSize = Math.random() * 20 + 15 + 'px';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '999';
                heart.style.animation = 'floatUp 2s ease-out forwards';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 2000);
            }
        }
        
        // Create sunshine effect for smile
        function createSunshineEffect() {
            const sunshine = ['☀️', '🌞', '⭐', '🌟', '💛', '😊', '🧡', '🔥'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const sun = document.createElement('div');
                    sun.textContent = sunshine[Math.floor(Math.random() * sunshine.length)];
                    sun.style.position = 'fixed';
                    sun.style.left = Math.random() * window.innerWidth + 'px';
                    sun.style.top = Math.random() * window.innerHeight + 'px';
                    sun.style.fontSize = Math.random() * 30 + 20 + 'px';
                    sun.style.pointerEvents = 'none';
                    sun.style.zIndex = '999';
                    sun.style.animation = 'sunGlow 3s ease-out forwards';
                    document.body.appendChild(sun);
                    
                    setTimeout(() => sun.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Create joyful explosion for smile
        function createJoyfulExplosion() {
            const joyEmojis = ['😊', '😍', '🥰', '😘', '💕', '💖', '✨', '🌟', '⭐', '🔥', '❤️', '🧡', '💛'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const joy = document.createElement('div');
                    joy.textContent = joyEmojis[Math.floor(Math.random() * joyEmojis.length)];
                    joy.style.position = 'fixed';
                    joy.style.left = Math.random() * window.innerWidth + 'px';
                    joy.style.top = Math.random() * window.innerHeight + 'px';
                    joy.style.fontSize = Math.random() * 35 + 25 + 'px';
                    joy.style.pointerEvents = 'none';
                    joy.style.zIndex = '999';
                    joy.style.animation = 'joyBounce 2.5s ease-out forwards';
                    document.body.appendChild(joy);
                    
                    setTimeout(() => joy.remove(), 2500);
                }, i * 120);
            }
        }
        
        // Create beautiful ring effect for promises
        function createRingEffect() {
            const rings = ['💍', '💎', '⭐', '👑', '🌟', '💛', '🧡'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const ring = document.createElement('div');
                    ring.textContent = rings[Math.floor(Math.random() * rings.length)];
                    ring.style.position = 'fixed';
                    ring.style.left = '50%';
                    ring.style.top = '50%';
                    ring.style.transform = 'translate(-50%, -50%)';
                    ring.style.fontSize = Math.random() * 30 + 20 + 'px';
                    ring.style.pointerEvents = 'none';
                    ring.style.zIndex = '999';
                    
                    // Create circular motion
                    const angle = (i * 360 / 15) * (Math.PI / 180);
                    const radius = 100 + Math.random() * 100;
                    const endX = Math.cos(angle) * radius;
                    const endY = Math.sin(angle) * radius;
                    
                    ring.style.animation = `ringExpand 3s ease-out forwards`;
                    ring.style.setProperty('--endX', endX + 'px');
                    ring.style.setProperty('--endY', endY + 'px');
                    
                    document.body.appendChild(ring);
                    
                    setTimeout(() => ring.remove(), 3000);
                }, i * 150);
            }
        }
        
        // Secret love game (click sequence)
        let clickSequence = [];
        const secretSequence = ['heart', 'letter', 'music'];
        const secretSequence2 = ['heart', 'music', 'letter'];
        
        mainHeart.addEventListener('click', function() {
            clickSequence.push('heart');
            checkSecretSequence();
        });
        
        letterButton.addEventListener('click', function() {
            clickSequence.push('letter');
            checkSecretSequence();
        });
        
        function checkSecretSequence() {
            if (clickSequence.length > 3) {
                clickSequence = clickSequence.slice(-3);
            }
            
            if (JSON.stringify(clickSequence) === JSON.stringify(secretSequence) || 
                JSON.stringify(clickSequence) === JSON.stringify(secretSequence2)) {
                triggerSecretSurprise();
                clickSequence = [];
            }
        }
        
        function triggerSecretSurprise() {
            document.body.style.animation = 'rainbow 2s ease-in-out';
            createMassiveHeartExplosion();
            
            setTimeout(() => {
                alert('🎉 גילית את הסוד! 🎉\nמצאת את רצף האהבה הנסתר!\nאת פשוט מדהימה! 💖✨');
                document.body.style.animation = '';
            }, 2000);
        }
        
        function createMassiveHeartExplosion() {
            const hearts = ['❤️', '💖', '💕', '💗', '💘', '💝', '💞', '💓', '💟', '♥️'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    heart.style.top = Math.random() * window.innerHeight + 'px';
                    heart.style.fontSize = Math.random() * 40 + 20 + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '9999';
                    heart.style.animation = 'floatUp 3s ease-out forwards';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 3000);
                }, i * 50);
            }
        }
        
        // Rainbow animation for secret and gentle pulse for music
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rainbow {
                0% { filter: hue-rotate(0deg); }
                100% { filter: hue-rotate(360deg); }
            }
            
            @keyframes gentlePulse {
                0%, 100% { 
                    filter: brightness(1) saturate(1);
                    transform: scale(1);
                }
                50% { 
                    filter: brightness(1.1) saturate(1.2);
                    transform: scale(1.005);
                }
            }
            
            @keyframes ringExpand {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(0) rotate(0deg);
                }
                50% {
                    opacity: 0.8;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(1) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(0.5) rotate(360deg);
                }
            }
            
            @keyframes sunGlow {
                0% {
                    opacity: 0;
                    transform: scale(0) rotate(0deg);
                    filter: brightness(1);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.2) rotate(180deg);
                    filter: brightness(1.5) drop-shadow(0 0 15px gold);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.3) rotate(360deg);
                    filter: brightness(2);
                }
            }
            
            @keyframes joyBounce {
                0% {
                    opacity: 1;
                    transform: scale(0) translateY(0px);
                }
                30% {
                    opacity: 1;
                    transform: scale(1.3) translateY(-30px);
                }
                60% {
                    opacity: 1;
                    transform: scale(1) translateY(-10px);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.5) translateY(-50px);
                }
            }
        `;
        document.head.appendChild(style);
        
        // Cleanup function for page unload
        function cleanupAll() {
            stopMusicEffects();
            if (romanticAudio) {
                romanticAudio.pause();
                romanticAudio.src = '';
                romanticAudio.load();
            }
            // Clean up all dynamic elements
            document.querySelectorAll('.floating-heart, .music-note, [style*="floatUp"], [style*="fall"]').forEach(el => el.remove());
        }
        
        // Add cleanup on page unload
        window.addEventListener('beforeunload', cleanupAll);
        window.addEventListener('unload', cleanupAll);
        
        // Special surprise after spending time on the page
        setTimeout(() => {
            const surpriseDiv = document.createElement('div');
            surpriseDiv.style.position = 'fixed';
            surpriseDiv.style.top = '50%';
            surpriseDiv.style.left = '50%';
            surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
            surpriseDiv.style.background = 'linear-gradient(135deg, rgba(255, 107, 107, 0.95), rgba(255, 182, 193, 0.95))';
            surpriseDiv.style.backdropFilter = 'blur(15px)';
            surpriseDiv.style.padding = '40px';
            surpriseDiv.style.borderRadius = '25px';
            surpriseDiv.style.color = 'white';
            surpriseDiv.style.fontFamily = "'Dancing Script', cursive";
            surpriseDiv.style.fontSize = '28px';
            surpriseDiv.style.textAlign = 'center';
            surpriseDiv.style.zIndex = '10001';
            surpriseDiv.style.border = '3px solid rgba(255, 255, 255, 0.4)';
            surpriseDiv.style.boxShadow = '0 25px 50px rgba(255, 107, 107, 0.5)';
            surpriseDiv.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            surpriseDiv.innerHTML = `
                🌟 את יודעת מה? 🌟<br><br>
                <span style="font-size: 22px;">אני כל כך שמח שאת כאן איתי עכשיו...<br>
                כל שנייה שאת מבלה פה זה מתנה בשבילי 💕<br><br>
                <span style="font-size: 18px; opacity: 0.9;">אני אוהב אותך יותר מכל הכוכבים בשמיים ✨</span><br><br>
                <small style="font-size: 16px; cursor: pointer; opacity: 0.8;">לחצי כדי להמשיך 💖</small>
            `;
            
            document.body.appendChild(surpriseDiv);
            
            // Animate in
            setTimeout(() => {
                surpriseDiv.style.transform = 'translate(-50%, -50%) scale(1)';
                createMassiveHeartExplosion();
            }, 100);
            
            // Close on click
            surpriseDiv.addEventListener('click', () => {
                surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                setTimeout(() => surpriseDiv.remove(), 500);
            });
            
            // Auto close after 12 seconds
            setTimeout(() => {
                if (surpriseDiv.parentNode) {
                    surpriseDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                    setTimeout(() => surpriseDiv.remove(), 500);
                }
            }, 12000);
        }, 20000); // Show after 20 seconds
        
        // Love countdown surprise
        setTimeout(() => {
            const countdownDiv = document.createElement('div');
            countdownDiv.style.position = 'fixed';
            countdownDiv.style.top = '50%';
            countdownDiv.style.left = '50%';
            countdownDiv.style.transform = 'translate(-50%, -50%) scale(0)';
            countdownDiv.style.background = 'linear-gradient(135deg, rgba(255, 20, 147, 0.95), rgba(255, 105, 180, 0.95))';
            countdownDiv.style.backdropFilter = 'blur(15px)';
            countdownDiv.style.padding = '40px';
            countdownDiv.style.borderRadius = '25px';
            countdownDiv.style.color = 'white';
            countdownDiv.style.fontFamily = "'Dancing Script', cursive";
            countdownDiv.style.fontSize = '32px';
            countdownDiv.style.textAlign = 'center';
            countdownDiv.style.zIndex = '10002';
            countdownDiv.style.border = '3px solid rgba(255, 255, 255, 0.4)';
            countdownDiv.style.boxShadow = '0 25px 50px rgba(255, 20, 147, 0.5)';
            countdownDiv.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            countdownDiv.innerHTML = `
                <div style="font-size: 28px; margin-bottom: 20px;">💖 ספירה לאחור לרגע מיוחד 💖</div>
                <div id="loveCountdown" style="font-size: 48px; margin: 20px 0; font-weight: bold;">3</div>
                <div style="font-size: 20px; opacity: 0.9;">משהו מיוחד מחכה לך...</div>
            `;
            
            document.body.appendChild(countdownDiv);
            
            // Animate in
            setTimeout(() => {
                countdownDiv.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 100);
            
            // Countdown animation
            const countdownElement = document.getElementById('loveCountdown');
            let count = 3;
            
            const countdownInterval = setInterval(() => {
                count--;
                if (count > 0) {
                    countdownElement.textContent = count;
                    countdownElement.style.transform = 'scale(1.5)';
                    setTimeout(() => countdownElement.style.transform = 'scale(1)', 200);
                    
                    // Create number explosion
                    for (let i = 0; i < 8; i++) {
                        const numberHeart = document.createElement('div');
                        numberHeart.textContent = '💕';
                        numberHeart.style.position = 'fixed';
                        numberHeart.style.left = '50%';
                        numberHeart.style.top = '50%';
                        numberHeart.style.fontSize = '20px';
                        numberHeart.style.pointerEvents = 'none';
                        numberHeart.style.zIndex = '9999';
                        
                        const angle = (i * 360 / 8) * (Math.PI / 180);
                        const distance = 80;
                        const endX = Math.cos(angle) * distance;
                        const endY = Math.sin(angle) * distance;
                        
                        numberHeart.style.animation = `kissExplosion 1s ease-out forwards`;
                        numberHeart.style.setProperty('--endX', endX + 'px');
                        numberHeart.style.setProperty('--endY', endY + 'px');
                        
                        document.body.appendChild(numberHeart);
                        setTimeout(() => numberHeart.remove(), 1000);
                    }
                } else {
                    clearInterval(countdownInterval);
                    countdownElement.innerHTML = '💝<br><span style="font-size: 24px;">אני אוהב אותך!</span>';
                    
                    // Massive love explosion
                    setTimeout(() => {
                        createMassiveHeartExplosion();
                        createUltimateRomanticExplosion();
                        
                        // Replace countdown with final message
                        setTimeout(() => {
                            countdownDiv.innerHTML = `
                                <div style="font-size: 36px; margin-bottom: 15px;">🌟 הפתעה! 🌟</div>
                                <div style="font-size: 24px; line-height: 1.6;">
                                    את הדבר הכי יפה שקרה לי בחיים!<br>
                                    כל שנייה איתך היא מתנה 💕<br><br>
                                    <span style="font-size: 20px; opacity: 0.9;">אני אוהב אותך יותר מכל הכוכבים בשמיים ✨</span>
                                </div>
                                <div style="margin-top: 20px; cursor: pointer; font-size: 16px; opacity: 0.8;">לחצי כדי להמשיך 💖</div>
                            `;
                            
                            countdownDiv.addEventListener('click', () => {
                                countdownDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                                setTimeout(() => countdownDiv.remove(), 500);
                            });
                            
                            // Auto close after 15 seconds
                            setTimeout(() => {
                                if (countdownDiv.parentNode) {
                                    countdownDiv.style.transform = 'translate(-50%, -50%) scale(0)';
                                    setTimeout(() => countdownDiv.remove(), 500);
                                }
                            }, 15000);
                        }, 2000);
                    }, 1000);
                }
            }, 1500);
        }, 45000); // Show after 45 seconds
        
        // Ultimate romantic explosion
        function createUltimateRomanticExplosion() {
            const romanticEmojis = ['💕', '💖', '💗', '💘', '💝', '💞', '💓', '💟', '♥️', '❤️', '🧡', '💛', '❣️', '❤️‍🔥', '❤️‍🩹', '💋', '😍', '🥰', '😘', '🌹', '🌺', '🌸', '💐', '🌻', '🌷', '⭐', '🌟', '✨', '💫', '☀️', '🔥', '💥', '🎇', '🎆', '🌠'];
            
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.textContent = romanticEmojis[Math.floor(Math.random() * romanticEmojis.length)];
                    emoji.style.position = 'fixed';
                    emoji.style.left = Math.random() * window.innerWidth + 'px';
                    emoji.style.top = Math.random() * window.innerHeight + 'px';
                    emoji.style.fontSize = Math.random() * 40 + 15 + 'px';
                    emoji.style.pointerEvents = 'none';
                    emoji.style.zIndex = '9998';
                    emoji.style.animation = 'ultimateFloat 4s ease-out forwards';
                    document.body.appendChild(emoji);
                    
                    setTimeout(() => emoji.remove(), 4000);
                }, i * 30);
            }
        }
        
        // Special "I Love You" in different languages surprise
        const loveLanguages = [
            { lang: 'עברית', text: 'אני אוהב אותך', flag: '🇮🇱' },
            { lang: 'English', text: 'I love you', flag: '🇺🇸' },
            { lang: 'Français', text: 'Je t\'aime', flag: '🇫🇷' },
            { lang: 'Español', text: 'Te amo', flag: '🇪🇸' },
            { lang: 'Italiano', text: 'Ti amo', flag: '🇮🇹' },
            { lang: '日本語', text: '愛してる', flag: '🇯🇵' },
            { lang: '한국어', text: '사랑해', flag: '🇰🇷' },
            { lang: 'Deutsch', text: 'Ich liebe dich', flag: '🇩🇪' },
            { lang: 'Русский', text: 'Я люблю тебя', flag: '🇷🇺' },
            { lang: 'العربية', text: 'أحبك', flag: '🇸🇦' },
            { lang: 'हिन्दी', text: 'मैं तुमसे प्यार करता हूँ', flag: '🇮🇳' },
            { lang: '中文', text: '我爱你', flag: '🇨🇳' }
        ];
        
        function showRandomLoveLanguage() {
            if (Math.random() > 0.7) { // 30% chance
                const randomLove = loveLanguages[Math.floor(Math.random() * loveLanguages.length)];
                const loveDiv = document.createElement('div');
                loveDiv.style.position = 'fixed';
                loveDiv.style.top = Math.random() * 30 + 10 + '%';
                loveDiv.style.left = Math.random() * 60 + 20 + '%';
                loveDiv.style.background = 'linear-gradient(135deg, rgba(255, 182, 193, 0.9), rgba(255, 105, 180, 0.9))';
                loveDiv.style.backdropFilter = 'blur(10px)';
                loveDiv.style.padding = '20px 25px';
                loveDiv.style.borderRadius = '20px';
                loveDiv.style.color = 'white';
                loveDiv.style.fontFamily = "'Poppins', sans-serif";
                loveDiv.style.textAlign = 'center';
                loveDiv.style.zIndex = '1000';
                loveDiv.style.border = '2px solid rgba(255, 255, 255, 0.3)';
                loveDiv.style.boxShadow = '0 15px 35px rgba(255, 105, 180, 0.4)';
                loveDiv.style.transform = 'scale(0)';
                loveDiv.style.transition = 'all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                loveDiv.style.cursor = 'pointer';
                loveDiv.innerHTML = `
                    <div style="font-size: 24px; margin-bottom: 8px;">${randomLove.flag}</div>
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">${randomLove.text}</div>
                    <div style="font-size: 14px; opacity: 0.8;">${randomLove.lang}</div>
                `;
                
                document.body.appendChild(loveDiv);
                
                setTimeout(() => loveDiv.style.transform = 'scale(1)', 100);
                
                loveDiv.addEventListener('click', () => {
                    loveDiv.style.transform = 'scale(0)';
                    createMiniHeartExplosion();
                    setTimeout(() => loveDiv.remove(), 300);
                });
                
                setTimeout(() => {
                    if (loveDiv.parentNode) {
                        loveDiv.style.transform = 'scale(0)';
                        setTimeout(() => loveDiv.remove(), 300);
                    }
                }, 6000);
            }
        }
        
        // Show random love languages every 15-25 seconds
        setInterval(showRandomLoveLanguage, Math.random() * 10000 + 15000);
        
        // Enhanced magic sparkles on heart hover
        mainHeart.addEventListener('mouseenter', function() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.textContent = '✨';
                    sparkle.style.position = 'absolute';
                    sparkle.style.left = Math.random() * 100 + 'px';
                    sparkle.style.top = Math.random() * 100 + 'px';
                    sparkle.style.fontSize = Math.random() * 15 + 10 + 'px';
                    sparkle.style.pointerEvents = 'none';
                    sparkle.style.zIndex = '999';
                    sparkle.style.animation = 'floatUp 2s ease-out forwards';
                    this.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) sparkle.remove();
                    }, 2000);
                }, i * 100);
            }
        });

        // Initialize background animations
        createParticles();
        createStars();
        createRosePetals();
        
        // Autoplay music when page loads
        function attemptAutoplay() {
            if (!isPlaying) {
                // First try: start muted autoplay, then unmute
                romanticAudio.muted = true;
                const playPromise = romanticAudio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Successfully started playing muted, now try to unmute
                        setTimeout(() => {
                            romanticAudio.muted = false;
                            romanticAudio.volume = 0.7;
                            playPauseBtn.textContent = '⏸️';
                            musicVisualizer.style.display = 'flex';
                            startMusicEffects();
                            isPlaying = true;
                            console.log('Music started automatically! 🎵');
                        }, 500);
                    }).catch(error => {
                        console.log('Autoplay blocked, will try on first user interaction');
                        setupUserInteractionAutoplay();
                    });
                } else {
                    setupUserInteractionAutoplay();
                }
            }
        }
        
        // Setup autoplay on first user interaction
        function setupUserInteractionAutoplay() {
            const startOnInteraction = () => {
                if (!isPlaying) {
                    romanticAudio.muted = false;
                    romanticAudio.volume = 0.7;
                    const playPromise = romanticAudio.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            playPauseBtn.textContent = '⏸️';
                            musicVisualizer.style.display = 'flex';
                            startMusicEffects();
                            isPlaying = true;
                            console.log('Music started on user interaction! 🎵');
                            
                            // Remove event listeners since we only need this once
                            document.removeEventListener('click', startOnInteraction);
                            document.removeEventListener('mousemove', startOnInteraction);
                            document.removeEventListener('touchstart', startOnInteraction);
                        }).catch(error => {
                            console.log('Still blocked, user needs to click play button');
                        });
                    }
                }
            };
            
            // Add event listeners for first user interaction
            document.addEventListener('click', startOnInteraction, { once: true });
            document.addEventListener('mousemove', startOnInteraction, { once: true });
            document.addEventListener('touchstart', startOnInteraction, { once: true });
        }
        
        // Try to start music after a short delay to ensure everything is loaded
        setTimeout(attemptAutoplay, 2000);
        
        // Enhanced interactive magic
        let lastSparkleTime = 0;
        const sparkleThrottle = 500;
        
        document.addEventListener('mousemove', function(e) {
            const now = Date.now();
            if (Math.random() > 0.98 && (now - lastSparkleTime) > sparkleThrottle) {
                lastSparkleTime = now;
                const effects = ['✨', '⭐', '🌟', '💖', '❤️', '🧡', '💛', '🔥'];
                const sparkle = document.createElement('div');
                sparkle.textContent = effects[Math.floor(Math.random() * effects.length)];
                sparkle.style.position = 'fixed';
                sparkle.style.left = e.clientX + Math.random() * 20 - 10 + 'px';
                sparkle.style.top = e.clientY + Math.random() * 20 - 10 + 'px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.fontSize = Math.random() * 8 + 8 + 'px';
                sparkle.style.animation = 'floatUp 1.5s ease-out forwards';
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) sparkle.remove();
                }, 1500);
            }
        });
        
        // Add click effects to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255, 255, 255, 0.6)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.left = e.offsetX + 'px';
                ripple.style.top = e.offsetY + 'px';
                ripple.style.width = ripple.style.height = '20px';
                ripple.style.marginLeft = ripple.style.marginTop = '-10px';
                
                this.style.position = 'relative';
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        });
        
        // Ripple effect animation
        const rippleStyle = document.createElement('style');
        rippleStyle.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
            
            @keyframes starTwinkle {
                0%, 100% { transform: scale(1) rotate(0deg); filter: brightness(1); }
                50% { transform: scale(1.2) rotate(180deg); filter: brightness(1.5) drop-shadow(0 0 10px gold); }
            }
            
            @keyframes rainbowFloat {
                0% {
                    opacity: 1;
                    transform: translateY(0) scale(0.5) rotate(0deg);
                }
                50% {
                    opacity: 1;
                    transform: translateY(-80px) scale(1.2) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: translateY(-150px) scale(0.3) rotate(360deg);
                }
            }
            
            @keyframes kissFloat {
                0% {
                    opacity: 1;
                    transform: translateY(0) scale(0.5) rotate(0deg);
                    filter: hue-rotate(0deg);
                }
                50% {
                    opacity: 1;
                    transform: translateY(-60px) scale(1.3) rotate(180deg);
                    filter: hue-rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: translateY(-120px) scale(0.5) rotate(360deg);
                    filter: hue-rotate(360deg);
                }
            }
            
            @keyframes kissExplosion {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1) rotate(0deg);
                }
                70% {
                    opacity: 0.8;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(1.2) rotate(270deg);
                }
                100% {
                    opacity: 0;
                    transform: translate(calc(-50% + var(--endX, 0px)), calc(-50% + var(--endY, 0px))) scale(0.3) rotate(360deg);
                }
            }
            
            @keyframes starWish {
                0% {
                    opacity: 0.3;
                    transform: scale(0.3) rotate(0deg);
                    filter: brightness(0.8);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.5) rotate(180deg);
                    filter: brightness(2) drop-shadow(0 0 15px gold);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.5) rotate(360deg);
                    filter: brightness(0.5);
                }
            }
            
            @keyframes fadeInGlow {
                0% {
                    opacity: 0;
                    transform: scale(0.8);
                    filter: brightness(0.5);
                }
                50% {
                    opacity: 0.8;
                    transform: scale(1.1);
                    filter: brightness(1.3) drop-shadow(0 0 10px gold);
                }
                100% {
                    opacity: 1;
                    transform: scale(1);
                    filter: brightness(1);
                }
            }
            
            @keyframes shootingStar {
                0% {
                    opacity: 0;
                    transform: translateX(0) translateY(0) rotate(-45deg);
                }
                20% {
                    opacity: 1;
                    transform: translateX(100px) translateY(-50px) rotate(-45deg);
                }
                100% {
                    opacity: 0;
                    transform: translateX(100vw) translateY(-200px) rotate(-45deg);
                }
            }
            

            
            @keyframes ultimateFloat {
                0% {
                    opacity: 1;
                    transform: scale(0.3) rotate(0deg) translateY(0);
                    filter: brightness(0.8) hue-rotate(0deg);
                }
                25% {
                    opacity: 1;
                    transform: scale(1.4) rotate(90deg) translateY(-30px);
                    filter: brightness(1.5) hue-rotate(90deg);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.1) rotate(180deg) translateY(-80px);
                    filter: brightness(1.8) hue-rotate(180deg);
                }
                75% {
                    opacity: 0.8;
                    transform: scale(1.3) rotate(270deg) translateY(-120px);
                    filter: brightness(1.3) hue-rotate(270deg);
                }
                100% {
                    opacity: 0;
                    transform: scale(0.2) rotate(360deg) translateY(-200px);
                    filter: brightness(0.5) hue-rotate(360deg);
                }
            }
        `;
        document.head.appendChild(rippleStyle);
    </script>
</body>
</html> 